2018-03-04 22:59:31,190 p=15822 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-04 22:59:31,507 p=15822 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-04 22:59:31,507 p=15822 u=jboyd215 |  skipping: no hosts matched
2018-03-04 22:59:31,508 p=15822 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-04 23:09:13,059 p=16056 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-04 23:09:13,385 p=16056 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-04 23:09:13,418 p=16056 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-04 23:09:15,538 p=16056 u=jboyd215 |  ok: [default]
2018-03-04 23:09:15,545 p=16056 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-04 23:09:25,588 p=16056 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520222956, "cache_updated": true, "changed": false}
2018-03-04 23:09:25,592 p=16056 u=jboyd215 |  TASK [Install Apache] **********************************************************
2018-03-04 23:09:32,380 p=16056 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 10.0.2.15. Set the 'ServerName' directive globally to suppress this message\n", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\nSuggested packages:\n  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils\n  openssl-blacklist\nThe following NEW packages will be installed:\n  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\n0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.\nNeed to get 1289 kB of archives.\nAfter this operation, 5367 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]\nGet:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]\nGet:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]\nGet:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]\nGet:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]\nPreconfiguring packages ...\nFetched 1289 kB in 1s (873 kB/s)\nSelecting previously unselected package libapr1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libapr1_1.5.0-1_amd64.deb ...\nUnpacking libapr1:amd64 (1.5.0-1) ...\nSelecting previously unselected package libaprutil1:amd64.\nPreparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-dbd-sqlite3:amd64.\nPreparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-ldap:amd64.\nPreparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-ldap:amd64 (1.5.3-1) ...\nSelecting previously unselected package apache2-bin.\nPreparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2-bin (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2-data.\nPreparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...\nUnpacking apache2-data (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2.\nPreparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2 (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package ssl-cert.\nPreparing to unpack .../ssl-cert_1.0.33_all.deb ...\nUnpacking ssl-cert (1.0.33) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nSetting up libapr1:amd64 (1.5.0-1) ...\nSetting up libaprutil1:amd64 (1.5.3-1) ...\nSetting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSetting up libaprutil1-ldap:amd64 (1.5.3-1) ...\nSetting up apache2-bin (2.4.7-1ubuntu4.18) ...\nSetting up apache2-data (2.4.7-1ubuntu4.18) ...\nSetting up apache2 (2.4.7-1ubuntu4.18) ...\nEnabling module mpm_event.\nEnabling module authz_core.\nEnabling module authz_host.\nEnabling module authn_core.\nEnabling module auth_basic.\nEnabling module access_compat.\nEnabling module authn_file.\nEnabling module authz_user.\nEnabling module alias.\nEnabling module dir.\nEnabling module autoindex.\nEnabling module env.\nEnabling module mime.\nEnabling module negotiation.\nEnabling module setenvif.\nEnabling module filter.\nEnabling module deflate.\nEnabling module status.\nEnabling conf charset.\nEnabling conf localized-error-pages.\nEnabling conf other-vhosts-access-log.\nEnabling conf security.\nEnabling conf serve-cgi-bin.\nEnabling site 000-default.\n * Starting web server apache2\n * \nSetting up ssl-cert (1.0.33) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "Suggested packages:", "  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils", "  openssl-blacklist", "The following NEW packages will be installed:", "  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.", "Need to get 1289 kB of archives.", "After this operation, 5367 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]", "Get:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]", "Get:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]", "Get:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]", "Get:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]", "Preconfiguring packages ...", "Fetched 1289 kB in 1s (873 kB/s)", "Selecting previously unselected package libapr1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libapr1_1.5.0-1_amd64.deb ...", "Unpacking libapr1:amd64 (1.5.0-1) ...", "Selecting previously unselected package libaprutil1:amd64.", "Preparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.", "Preparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-ldap:amd64.", "Preparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-ldap:amd64 (1.5.3-1) ...", "Selecting previously unselected package apache2-bin.", "Preparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2-bin (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2-data.", "Preparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...", "Unpacking apache2-data (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2.", "Preparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2 (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package ssl-cert.", "Preparing to unpack .../ssl-cert_1.0.33_all.deb ...", "Unpacking ssl-cert (1.0.33) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Setting up libapr1:amd64 (1.5.0-1) ...", "Setting up libaprutil1:amd64 (1.5.3-1) ...", "Setting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Setting up libaprutil1-ldap:amd64 (1.5.3-1) ...", "Setting up apache2-bin (2.4.7-1ubuntu4.18) ...", "Setting up apache2-data (2.4.7-1ubuntu4.18) ...", "Setting up apache2 (2.4.7-1ubuntu4.18) ...", "Enabling module mpm_event.", "Enabling module authz_core.", "Enabling module authz_host.", "Enabling module authn_core.", "Enabling module auth_basic.", "Enabling module access_compat.", "Enabling module authn_file.", "Enabling module authz_user.", "Enabling module alias.", "Enabling module dir.", "Enabling module autoindex.", "Enabling module env.", "Enabling module mime.", "Enabling module negotiation.", "Enabling module setenvif.", "Enabling module filter.", "Enabling module deflate.", "Enabling module status.", "Enabling conf charset.", "Enabling conf localized-error-pages.", "Enabling conf other-vhosts-access-log.", "Enabling conf security.", "Enabling conf serve-cgi-bin.", "Enabling site 000-default.", " * Starting web server apache2", " * ", "Setting up ssl-cert (1.0.33) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ..."]}
2018-03-04 23:09:32,384 p=16056 u=jboyd215 |  TASK [Create custom document root] *********************************************
2018-03-04 23:09:33,176 p=16056 u=jboyd215 |  changed: [default] => {"changed": true, "gid": 33, "group": "www-data", "mode": "0755", "owner": "www-data", "path": "/var/www/", "size": 4096, "state": "directory", "uid": 33}
2018-03-04 23:09:33,190 p=16056 u=jboyd215 |  TASK [Set up HTML file] ********************************************************
2018-03-04 23:09:33,829 p=16056 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d32318c6fc725a1cc427a2e15fc470c827e9c3e2", "dest": "/var/www//index.html", "gid": 33, "group": "www-data", "md5sum": "9db50a2fada781c1212d6fa328bb4f8d", "mode": "0644", "owner": "www-data", "size": 7029, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520222973.48-228874816255249/source", "state": "file", "uid": 33}
2018-03-04 23:09:33,843 p=16056 u=jboyd215 |  TASK [Set up Apache virtual host file] *****************************************
2018-03-04 23:09:34,264 p=16056 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "f6080ec087ccbf79b185fa98da596829ee623fe7", "dest": "/etc/apache2/sites-available/000-default.conf", "gid": 0, "group": "root", "md5sum": "7e84a58686d9dbc5fa4432401e1ef39c", "mode": "0644", "owner": "root", "size": 194, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520222973.89-228944002800283/source", "state": "file", "uid": 0}
2018-03-04 23:09:34,266 p=16056 u=jboyd215 |  RUNNING HANDLER [restart apache] ***********************************************
2018-03-04 23:09:36,819 p=16056 u=jboyd215 |  changed: [default] => {"changed": true, "name": "apache2", "state": "started"}
2018-03-04 23:09:36,822 p=16056 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-04 23:09:36,822 p=16056 u=jboyd215 |  default                    : ok=7    changed=5    unreachable=0    failed=0   
2018-03-04 23:15:02,387 p=16667 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-04 23:15:02,712 p=16667 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-04 23:15:02,784 p=16667 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-04 23:15:05,596 p=16667 u=jboyd215 |  ok: [default]
2018-03-04 23:15:05,603 p=16667 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-04 23:15:15,922 p=16667 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520223306, "cache_updated": true, "changed": false}
2018-03-04 23:15:15,928 p=16667 u=jboyd215 |  TASK [Install Apache] **********************************************************
2018-03-04 23:15:25,556 p=16667 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 10.0.2.15. Set the 'ServerName' directive globally to suppress this message\n", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\nSuggested packages:\n  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils\n  openssl-blacklist\nThe following NEW packages will be installed:\n  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\n0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.\nNeed to get 1289 kB of archives.\nAfter this operation, 5367 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]\nGet:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]\nGet:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]\nGet:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]\nGet:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]\nPreconfiguring packages ...\nFetched 1289 kB in 2s (531 kB/s)\nSelecting previously unselected package libapr1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libapr1_1.5.0-1_amd64.deb ...\nUnpacking libapr1:amd64 (1.5.0-1) ...\nSelecting previously unselected package libaprutil1:amd64.\nPreparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-dbd-sqlite3:amd64.\nPreparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-ldap:amd64.\nPreparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-ldap:amd64 (1.5.3-1) ...\nSelecting previously unselected package apache2-bin.\nPreparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2-bin (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2-data.\nPreparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...\nUnpacking apache2-data (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2.\nPreparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2 (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package ssl-cert.\nPreparing to unpack .../ssl-cert_1.0.33_all.deb ...\nUnpacking ssl-cert (1.0.33) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nSetting up libapr1:amd64 (1.5.0-1) ...\nSetting up libaprutil1:amd64 (1.5.3-1) ...\nSetting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSetting up libaprutil1-ldap:amd64 (1.5.3-1) ...\nSetting up apache2-bin (2.4.7-1ubuntu4.18) ...\nSetting up apache2-data (2.4.7-1ubuntu4.18) ...\nSetting up apache2 (2.4.7-1ubuntu4.18) ...\nEnabling module mpm_event.\nEnabling module authz_core.\nEnabling module authz_host.\nEnabling module authn_core.\nEnabling module auth_basic.\nEnabling module access_compat.\nEnabling module authn_file.\nEnabling module authz_user.\nEnabling module alias.\nEnabling module dir.\nEnabling module autoindex.\nEnabling module env.\nEnabling module mime.\nEnabling module negotiation.\nEnabling module setenvif.\nEnabling module filter.\nEnabling module deflate.\nEnabling module status.\nEnabling conf charset.\nEnabling conf localized-error-pages.\nEnabling conf other-vhosts-access-log.\nEnabling conf security.\nEnabling conf serve-cgi-bin.\nEnabling site 000-default.\n * Starting web server apache2\n * \nSetting up ssl-cert (1.0.33) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "Suggested packages:", "  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils", "  openssl-blacklist", "The following NEW packages will be installed:", "  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.", "Need to get 1289 kB of archives.", "After this operation, 5367 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]", "Get:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]", "Get:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]", "Get:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]", "Get:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]", "Preconfiguring packages ...", "Fetched 1289 kB in 2s (531 kB/s)", "Selecting previously unselected package libapr1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libapr1_1.5.0-1_amd64.deb ...", "Unpacking libapr1:amd64 (1.5.0-1) ...", "Selecting previously unselected package libaprutil1:amd64.", "Preparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.", "Preparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-ldap:amd64.", "Preparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-ldap:amd64 (1.5.3-1) ...", "Selecting previously unselected package apache2-bin.", "Preparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2-bin (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2-data.", "Preparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...", "Unpacking apache2-data (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2.", "Preparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2 (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package ssl-cert.", "Preparing to unpack .../ssl-cert_1.0.33_all.deb ...", "Unpacking ssl-cert (1.0.33) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Setting up libapr1:amd64 (1.5.0-1) ...", "Setting up libaprutil1:amd64 (1.5.3-1) ...", "Setting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Setting up libaprutil1-ldap:amd64 (1.5.3-1) ...", "Setting up apache2-bin (2.4.7-1ubuntu4.18) ...", "Setting up apache2-data (2.4.7-1ubuntu4.18) ...", "Setting up apache2 (2.4.7-1ubuntu4.18) ...", "Enabling module mpm_event.", "Enabling module authz_core.", "Enabling module authz_host.", "Enabling module authn_core.", "Enabling module auth_basic.", "Enabling module access_compat.", "Enabling module authn_file.", "Enabling module authz_user.", "Enabling module alias.", "Enabling module dir.", "Enabling module autoindex.", "Enabling module env.", "Enabling module mime.", "Enabling module negotiation.", "Enabling module setenvif.", "Enabling module filter.", "Enabling module deflate.", "Enabling module status.", "Enabling conf charset.", "Enabling conf localized-error-pages.", "Enabling conf other-vhosts-access-log.", "Enabling conf security.", "Enabling conf serve-cgi-bin.", "Enabling site 000-default.", " * Starting web server apache2", " * ", "Setting up ssl-cert (1.0.33) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ..."]}
2018-03-04 23:15:25,561 p=16667 u=jboyd215 |  TASK [Create custom document root] *********************************************
2018-03-04 23:15:26,217 p=16667 u=jboyd215 |  changed: [default] => {"changed": true, "gid": 33, "group": "www-data", "mode": "0755", "owner": "www-data", "path": "/var/www/", "size": 4096, "state": "directory", "uid": 33}
2018-03-04 23:15:26,224 p=16667 u=jboyd215 |  TASK [Set up HTML file] ********************************************************
2018-03-04 23:15:27,414 p=16667 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d32318c6fc725a1cc427a2e15fc470c827e9c3e2", "dest": "/var/www//index.html", "gid": 33, "group": "www-data", "md5sum": "9db50a2fada781c1212d6fa328bb4f8d", "mode": "0644", "owner": "www-data", "size": 7029, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520223326.77-47557632119240/source", "state": "file", "uid": 33}
2018-03-04 23:15:27,422 p=16667 u=jboyd215 |  TASK [Set up Apache virtual host file] *****************************************
2018-03-04 23:15:27,464 p=16667 u=jboyd215 |  fatal: [default]: FAILED! => {"changed": false, "failed": true, "msg": "IOError: [Errno 2] No such file or directory: u'/Users/jboyd215/dev/SRE_Challenge/sre-project/vhost.tpl'"}
2018-03-04 23:15:27,465 p=16667 u=jboyd215 |  NO MORE HOSTS LEFT *************************************************************
2018-03-04 23:15:27,466 p=16667 u=jboyd215 |  	to retry, use: --limit @playbook.retry

2018-03-04 23:15:27,467 p=16667 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-04 23:15:27,467 p=16667 u=jboyd215 |  default                    : ok=5    changed=3    unreachable=0    failed=1   
2018-03-04 23:17:13,571 p=16992 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-04 23:17:13,931 p=16992 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-04 23:17:13,961 p=16992 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-04 23:17:16,120 p=16992 u=jboyd215 |  ok: [default]
2018-03-04 23:17:16,128 p=16992 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-04 23:17:26,780 p=16992 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520223436, "cache_updated": true, "changed": false}
2018-03-04 23:17:26,786 p=16992 u=jboyd215 |  TASK [Install Apache] **********************************************************
2018-03-04 23:17:34,053 p=16992 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 10.0.2.15. Set the 'ServerName' directive globally to suppress this message\n", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\nSuggested packages:\n  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils\n  openssl-blacklist\nThe following NEW packages will be installed:\n  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\n0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.\nNeed to get 1289 kB of archives.\nAfter this operation, 5367 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]\nGet:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]\nGet:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]\nGet:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]\nGet:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]\nPreconfiguring packages ...\nFetched 1289 kB in 2s (627 kB/s)\nSelecting previously unselected package libapr1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libapr1_1.5.0-1_amd64.deb ...\nUnpacking libapr1:amd64 (1.5.0-1) ...\nSelecting previously unselected package libaprutil1:amd64.\nPreparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-dbd-sqlite3:amd64.\nPreparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-ldap:amd64.\nPreparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-ldap:amd64 (1.5.3-1) ...\nSelecting previously unselected package apache2-bin.\nPreparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2-bin (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2-data.\nPreparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...\nUnpacking apache2-data (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2.\nPreparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2 (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package ssl-cert.\nPreparing to unpack .../ssl-cert_1.0.33_all.deb ...\nUnpacking ssl-cert (1.0.33) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nSetting up libapr1:amd64 (1.5.0-1) ...\nSetting up libaprutil1:amd64 (1.5.3-1) ...\nSetting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSetting up libaprutil1-ldap:amd64 (1.5.3-1) ...\nSetting up apache2-bin (2.4.7-1ubuntu4.18) ...\nSetting up apache2-data (2.4.7-1ubuntu4.18) ...\nSetting up apache2 (2.4.7-1ubuntu4.18) ...\nEnabling module mpm_event.\nEnabling module authz_core.\nEnabling module authz_host.\nEnabling module authn_core.\nEnabling module auth_basic.\nEnabling module access_compat.\nEnabling module authn_file.\nEnabling module authz_user.\nEnabling module alias.\nEnabling module dir.\nEnabling module autoindex.\nEnabling module env.\nEnabling module mime.\nEnabling module negotiation.\nEnabling module setenvif.\nEnabling module filter.\nEnabling module deflate.\nEnabling module status.\nEnabling conf charset.\nEnabling conf localized-error-pages.\nEnabling conf other-vhosts-access-log.\nEnabling conf security.\nEnabling conf serve-cgi-bin.\nEnabling site 000-default.\n * Starting web server apache2\n * \nSetting up ssl-cert (1.0.33) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "Suggested packages:", "  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils", "  openssl-blacklist", "The following NEW packages will be installed:", "  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.", "Need to get 1289 kB of archives.", "After this operation, 5367 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]", "Get:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]", "Get:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]", "Get:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]", "Get:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]", "Preconfiguring packages ...", "Fetched 1289 kB in 2s (627 kB/s)", "Selecting previously unselected package libapr1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libapr1_1.5.0-1_amd64.deb ...", "Unpacking libapr1:amd64 (1.5.0-1) ...", "Selecting previously unselected package libaprutil1:amd64.", "Preparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.", "Preparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-ldap:amd64.", "Preparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-ldap:amd64 (1.5.3-1) ...", "Selecting previously unselected package apache2-bin.", "Preparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2-bin (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2-data.", "Preparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...", "Unpacking apache2-data (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2.", "Preparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2 (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package ssl-cert.", "Preparing to unpack .../ssl-cert_1.0.33_all.deb ...", "Unpacking ssl-cert (1.0.33) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Setting up libapr1:amd64 (1.5.0-1) ...", "Setting up libaprutil1:amd64 (1.5.3-1) ...", "Setting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Setting up libaprutil1-ldap:amd64 (1.5.3-1) ...", "Setting up apache2-bin (2.4.7-1ubuntu4.18) ...", "Setting up apache2-data (2.4.7-1ubuntu4.18) ...", "Setting up apache2 (2.4.7-1ubuntu4.18) ...", "Enabling module mpm_event.", "Enabling module authz_core.", "Enabling module authz_host.", "Enabling module authn_core.", "Enabling module auth_basic.", "Enabling module access_compat.", "Enabling module authn_file.", "Enabling module authz_user.", "Enabling module alias.", "Enabling module dir.", "Enabling module autoindex.", "Enabling module env.", "Enabling module mime.", "Enabling module negotiation.", "Enabling module setenvif.", "Enabling module filter.", "Enabling module deflate.", "Enabling module status.", "Enabling conf charset.", "Enabling conf localized-error-pages.", "Enabling conf other-vhosts-access-log.", "Enabling conf security.", "Enabling conf serve-cgi-bin.", "Enabling site 000-default.", " * Starting web server apache2", " * ", "Setting up ssl-cert (1.0.33) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ..."]}
2018-03-04 23:17:34,056 p=16992 u=jboyd215 |  TASK [Create custom document root] *********************************************
2018-03-04 23:17:34,353 p=16992 u=jboyd215 |  changed: [default] => {"changed": true, "gid": 33, "group": "www-data", "mode": "0755", "owner": "www-data", "path": "/var/www/", "size": 4096, "state": "directory", "uid": 33}
2018-03-04 23:17:34,358 p=16992 u=jboyd215 |  TASK [Set up HTML file] ********************************************************
2018-03-04 23:17:34,953 p=16992 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d32318c6fc725a1cc427a2e15fc470c827e9c3e2", "dest": "/var/www//index.html", "gid": 33, "group": "www-data", "md5sum": "9db50a2fada781c1212d6fa328bb4f8d", "mode": "0644", "owner": "www-data", "size": 7029, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520223454.63-246703731831505/source", "state": "file", "uid": 33}
2018-03-04 23:17:34,955 p=16992 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-04 23:17:34,956 p=16992 u=jboyd215 |  default                    : ok=5    changed=3    unreachable=0    failed=0   
2018-03-04 23:20:58,098 p=17193 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-04 23:20:58,959 p=17193 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-04 23:20:59,014 p=17193 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-04 23:21:01,910 p=17193 u=jboyd215 |  ok: [default]
2018-03-04 23:21:01,918 p=17193 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-04 23:21:13,517 p=17193 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520223662, "cache_updated": true, "changed": false}
2018-03-04 23:21:13,522 p=17193 u=jboyd215 |  TASK [Install Apache] **********************************************************
2018-03-04 23:21:20,959 p=17193 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 10.0.2.15. Set the 'ServerName' directive globally to suppress this message\n", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\nSuggested packages:\n  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils\n  openssl-blacklist\nThe following NEW packages will be installed:\n  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\n0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.\nNeed to get 1289 kB of archives.\nAfter this operation, 5367 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]\nGet:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]\nGet:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]\nGet:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]\nGet:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]\nPreconfiguring packages ...\nFetched 1289 kB in 1s (867 kB/s)\nSelecting previously unselected package libapr1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libapr1_1.5.0-1_amd64.deb ...\nUnpacking libapr1:amd64 (1.5.0-1) ...\nSelecting previously unselected package libaprutil1:amd64.\nPreparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-dbd-sqlite3:amd64.\nPreparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-ldap:amd64.\nPreparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-ldap:amd64 (1.5.3-1) ...\nSelecting previously unselected package apache2-bin.\nPreparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2-bin (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2-data.\nPreparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...\nUnpacking apache2-data (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2.\nPreparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2 (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package ssl-cert.\nPreparing to unpack .../ssl-cert_1.0.33_all.deb ...\nUnpacking ssl-cert (1.0.33) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nSetting up libapr1:amd64 (1.5.0-1) ...\nSetting up libaprutil1:amd64 (1.5.3-1) ...\nSetting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSetting up libaprutil1-ldap:amd64 (1.5.3-1) ...\nSetting up apache2-bin (2.4.7-1ubuntu4.18) ...\nSetting up apache2-data (2.4.7-1ubuntu4.18) ...\nSetting up apache2 (2.4.7-1ubuntu4.18) ...\nEnabling module mpm_event.\nEnabling module authz_core.\nEnabling module authz_host.\nEnabling module authn_core.\nEnabling module auth_basic.\nEnabling module access_compat.\nEnabling module authn_file.\nEnabling module authz_user.\nEnabling module alias.\nEnabling module dir.\nEnabling module autoindex.\nEnabling module env.\nEnabling module mime.\nEnabling module negotiation.\nEnabling module setenvif.\nEnabling module filter.\nEnabling module deflate.\nEnabling module status.\nEnabling conf charset.\nEnabling conf localized-error-pages.\nEnabling conf other-vhosts-access-log.\nEnabling conf security.\nEnabling conf serve-cgi-bin.\nEnabling site 000-default.\n * Starting web server apache2\n * \nSetting up ssl-cert (1.0.33) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "Suggested packages:", "  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils", "  openssl-blacklist", "The following NEW packages will be installed:", "  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.", "Need to get 1289 kB of archives.", "After this operation, 5367 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]", "Get:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]", "Get:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]", "Get:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]", "Get:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]", "Preconfiguring packages ...", "Fetched 1289 kB in 1s (867 kB/s)", "Selecting previously unselected package libapr1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libapr1_1.5.0-1_amd64.deb ...", "Unpacking libapr1:amd64 (1.5.0-1) ...", "Selecting previously unselected package libaprutil1:amd64.", "Preparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.", "Preparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-ldap:amd64.", "Preparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-ldap:amd64 (1.5.3-1) ...", "Selecting previously unselected package apache2-bin.", "Preparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2-bin (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2-data.", "Preparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...", "Unpacking apache2-data (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2.", "Preparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2 (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package ssl-cert.", "Preparing to unpack .../ssl-cert_1.0.33_all.deb ...", "Unpacking ssl-cert (1.0.33) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Setting up libapr1:amd64 (1.5.0-1) ...", "Setting up libaprutil1:amd64 (1.5.3-1) ...", "Setting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Setting up libaprutil1-ldap:amd64 (1.5.3-1) ...", "Setting up apache2-bin (2.4.7-1ubuntu4.18) ...", "Setting up apache2-data (2.4.7-1ubuntu4.18) ...", "Setting up apache2 (2.4.7-1ubuntu4.18) ...", "Enabling module mpm_event.", "Enabling module authz_core.", "Enabling module authz_host.", "Enabling module authn_core.", "Enabling module auth_basic.", "Enabling module access_compat.", "Enabling module authn_file.", "Enabling module authz_user.", "Enabling module alias.", "Enabling module dir.", "Enabling module autoindex.", "Enabling module env.", "Enabling module mime.", "Enabling module negotiation.", "Enabling module setenvif.", "Enabling module filter.", "Enabling module deflate.", "Enabling module status.", "Enabling conf charset.", "Enabling conf localized-error-pages.", "Enabling conf other-vhosts-access-log.", "Enabling conf security.", "Enabling conf serve-cgi-bin.", "Enabling site 000-default.", " * Starting web server apache2", " * ", "Setting up ssl-cert (1.0.33) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ..."]}
2018-03-04 23:21:20,963 p=17193 u=jboyd215 |  TASK [Create custom document root] *********************************************
2018-03-04 23:21:21,351 p=17193 u=jboyd215 |  changed: [default] => {"changed": true, "gid": 33, "group": "www-data", "mode": "0755", "owner": "www-data", "path": "/var/www/", "size": 4096, "state": "directory", "uid": 33}
2018-03-04 23:21:21,359 p=17193 u=jboyd215 |  TASK [Set up HTML file] ********************************************************
2018-03-04 23:21:21,994 p=17193 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d32318c6fc725a1cc427a2e15fc470c827e9c3e2", "dest": "/var/www//index.html", "gid": 33, "group": "www-data", "md5sum": "9db50a2fada781c1212d6fa328bb4f8d", "mode": "0644", "owner": "www-data", "size": 7029, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520223681.68-240718296581461/source", "state": "file", "uid": 33}
2018-03-04 23:21:21,999 p=17193 u=jboyd215 |  TASK [Set up Apache virtual host file] *****************************************
2018-03-04 23:21:22,431 p=17193 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "f6080ec087ccbf79b185fa98da596829ee623fe7", "dest": "/etc/apache2/sites-available/000-default.conf", "gid": 0, "group": "root", "md5sum": "7e84a58686d9dbc5fa4432401e1ef39c", "mode": "0644", "owner": "root", "size": 194, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520223682.04-84220980818454/source", "state": "file", "uid": 0}
2018-03-04 23:21:22,433 p=17193 u=jboyd215 |  RUNNING HANDLER [restart apache] ***********************************************
2018-03-04 23:21:24,939 p=17193 u=jboyd215 |  changed: [default] => {"changed": true, "name": "apache2", "state": "started"}
2018-03-04 23:21:24,941 p=17193 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-04 23:21:24,941 p=17193 u=jboyd215 |  default                    : ok=7    changed=5    unreachable=0    failed=0   
2018-03-04 23:31:29,261 p=17696 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-04 23:31:29,573 p=17696 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-04 23:31:29,603 p=17696 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-04 23:31:31,526 p=17696 u=jboyd215 |  ok: [default]
2018-03-04 23:31:31,533 p=17696 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-04 23:31:41,886 p=17696 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520224292, "cache_updated": true, "changed": false}
2018-03-04 23:31:41,890 p=17696 u=jboyd215 |  TASK [Install Apache] **********************************************************
2018-03-04 23:31:48,688 p=17696 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 10.0.2.15. Set the 'ServerName' directive globally to suppress this message\n", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\nSuggested packages:\n  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils\n  openssl-blacklist\nThe following NEW packages will be installed:\n  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3\n  libaprutil1-ldap ssl-cert\n0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.\nNeed to get 1289 kB of archives.\nAfter this operation, 5367 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]\nGet:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]\nGet:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]\nGet:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]\nGet:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]\nPreconfiguring packages ...\nFetched 1289 kB in 1s (856 kB/s)\nSelecting previously unselected package libapr1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libapr1_1.5.0-1_amd64.deb ...\nUnpacking libapr1:amd64 (1.5.0-1) ...\nSelecting previously unselected package libaprutil1:amd64.\nPreparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-dbd-sqlite3:amd64.\nPreparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSelecting previously unselected package libaprutil1-ldap:amd64.\nPreparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...\nUnpacking libaprutil1-ldap:amd64 (1.5.3-1) ...\nSelecting previously unselected package apache2-bin.\nPreparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2-bin (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2-data.\nPreparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...\nUnpacking apache2-data (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package apache2.\nPreparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...\nUnpacking apache2 (2.4.7-1ubuntu4.18) ...\nSelecting previously unselected package ssl-cert.\nPreparing to unpack .../ssl-cert_1.0.33_all.deb ...\nUnpacking ssl-cert (1.0.33) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nSetting up libapr1:amd64 (1.5.0-1) ...\nSetting up libaprutil1:amd64 (1.5.3-1) ...\nSetting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...\nSetting up libaprutil1-ldap:amd64 (1.5.3-1) ...\nSetting up apache2-bin (2.4.7-1ubuntu4.18) ...\nSetting up apache2-data (2.4.7-1ubuntu4.18) ...\nSetting up apache2 (2.4.7-1ubuntu4.18) ...\nEnabling module mpm_event.\nEnabling module authz_core.\nEnabling module authz_host.\nEnabling module authn_core.\nEnabling module auth_basic.\nEnabling module access_compat.\nEnabling module authn_file.\nEnabling module authz_user.\nEnabling module alias.\nEnabling module dir.\nEnabling module autoindex.\nEnabling module env.\nEnabling module mime.\nEnabling module negotiation.\nEnabling module setenvif.\nEnabling module filter.\nEnabling module deflate.\nEnabling module status.\nEnabling conf charset.\nEnabling conf localized-error-pages.\nEnabling conf other-vhosts-access-log.\nEnabling conf security.\nEnabling conf serve-cgi-bin.\nEnabling site 000-default.\n * Starting web server apache2\n * \nSetting up ssl-cert (1.0.33) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "Suggested packages:", "  apache2-doc apache2-suexec-pristine apache2-suexec-custom apache2-utils", "  openssl-blacklist", "The following NEW packages will be installed:", "  apache2 apache2-bin apache2-data libapr1 libaprutil1 libaprutil1-dbd-sqlite3", "  libaprutil1-ldap ssl-cert", "0 upgraded, 8 newly installed, 0 to remove and 203 not upgraded.", "Need to get 1289 kB of archives.", "After this operation, 5367 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty/main libapr1 amd64 1.5.0-1 [85.1 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1 amd64 1.5.3-1 [76.4 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-dbd-sqlite3 amd64 1.5.3-1 [10.5 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty/main libaprutil1-ldap amd64 1.5.3-1 [8634 B]", "Get:5 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-bin amd64 2.4.7-1ubuntu4.18 [844 kB]", "Get:6 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2-data all 2.4.7-1ubuntu4.18 [160 kB]", "Get:7 http://archive.ubuntu.com/ubuntu/ trusty-updates/main apache2 amd64 2.4.7-1ubuntu4.18 [87.5 kB]", "Get:8 http://archive.ubuntu.com/ubuntu/ trusty/main ssl-cert all 1.0.33 [16.6 kB]", "Preconfiguring packages ...", "Fetched 1289 kB in 1s (856 kB/s)", "Selecting previously unselected package libapr1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libapr1_1.5.0-1_amd64.deb ...", "Unpacking libapr1:amd64 (1.5.0-1) ...", "Selecting previously unselected package libaprutil1:amd64.", "Preparing to unpack .../libaprutil1_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.", "Preparing to unpack .../libaprutil1-dbd-sqlite3_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Selecting previously unselected package libaprutil1-ldap:amd64.", "Preparing to unpack .../libaprutil1-ldap_1.5.3-1_amd64.deb ...", "Unpacking libaprutil1-ldap:amd64 (1.5.3-1) ...", "Selecting previously unselected package apache2-bin.", "Preparing to unpack .../apache2-bin_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2-bin (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2-data.", "Preparing to unpack .../apache2-data_2.4.7-1ubuntu4.18_all.deb ...", "Unpacking apache2-data (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package apache2.", "Preparing to unpack .../apache2_2.4.7-1ubuntu4.18_amd64.deb ...", "Unpacking apache2 (2.4.7-1ubuntu4.18) ...", "Selecting previously unselected package ssl-cert.", "Preparing to unpack .../ssl-cert_1.0.33_all.deb ...", "Unpacking ssl-cert (1.0.33) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Setting up libapr1:amd64 (1.5.0-1) ...", "Setting up libaprutil1:amd64 (1.5.3-1) ...", "Setting up libaprutil1-dbd-sqlite3:amd64 (1.5.3-1) ...", "Setting up libaprutil1-ldap:amd64 (1.5.3-1) ...", "Setting up apache2-bin (2.4.7-1ubuntu4.18) ...", "Setting up apache2-data (2.4.7-1ubuntu4.18) ...", "Setting up apache2 (2.4.7-1ubuntu4.18) ...", "Enabling module mpm_event.", "Enabling module authz_core.", "Enabling module authz_host.", "Enabling module authn_core.", "Enabling module auth_basic.", "Enabling module access_compat.", "Enabling module authn_file.", "Enabling module authz_user.", "Enabling module alias.", "Enabling module dir.", "Enabling module autoindex.", "Enabling module env.", "Enabling module mime.", "Enabling module negotiation.", "Enabling module setenvif.", "Enabling module filter.", "Enabling module deflate.", "Enabling module status.", "Enabling conf charset.", "Enabling conf localized-error-pages.", "Enabling conf other-vhosts-access-log.", "Enabling conf security.", "Enabling conf serve-cgi-bin.", "Enabling site 000-default.", " * Starting web server apache2", " * ", "Setting up ssl-cert (1.0.33) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ..."]}
2018-03-04 23:31:48,691 p=17696 u=jboyd215 |  TASK [Create custom document root] *********************************************
2018-03-04 23:31:48,995 p=17696 u=jboyd215 |  changed: [default] => {"changed": true, "gid": 33, "group": "www-data", "mode": "0755", "owner": "www-data", "path": "/var/www/", "size": 4096, "state": "directory", "uid": 33}
2018-03-04 23:31:49,001 p=17696 u=jboyd215 |  TASK [Set up HTML file] ********************************************************
2018-03-04 23:31:49,623 p=17696 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d32318c6fc725a1cc427a2e15fc470c827e9c3e2", "dest": "/var/www//index.html", "gid": 33, "group": "www-data", "md5sum": "9db50a2fada781c1212d6fa328bb4f8d", "mode": "0644", "owner": "www-data", "size": 7029, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520224309.27-144868247060796/source", "state": "file", "uid": 33}
2018-03-04 23:31:49,628 p=17696 u=jboyd215 |  TASK [Set up Apache virtual host file] *****************************************
2018-03-04 23:31:50,030 p=17696 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "f6080ec087ccbf79b185fa98da596829ee623fe7", "dest": "/etc/apache2/sites-available/000-default.conf", "gid": 0, "group": "root", "md5sum": "7e84a58686d9dbc5fa4432401e1ef39c", "mode": "0644", "owner": "root", "size": 194, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520224309.67-212715829065540/source", "state": "file", "uid": 0}
2018-03-04 23:31:50,032 p=17696 u=jboyd215 |  RUNNING HANDLER [restart apache] ***********************************************
2018-03-04 23:31:52,531 p=17696 u=jboyd215 |  changed: [default] => {"changed": true, "name": "apache2", "state": "started"}
2018-03-04 23:31:52,533 p=17696 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-04 23:31:52,533 p=17696 u=jboyd215 |  default                    : ok=7    changed=5    unreachable=0    failed=0   
2018-03-06 12:48:58,121 p=67422 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 12:48:58,363 p=67422 u=jboyd215 |  ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 44, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: generate openssl cert
      ^ here


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 44, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: generate openssl cert
      ^ here

2018-03-06 12:51:44,179 p=67660 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 12:51:44,280 p=67660 u=jboyd215 |  ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 58, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: generate openssl cert
      ^ here


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 58, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: generate openssl cert
      ^ here

2018-03-06 12:57:12,310 p=68251 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 12:57:12,422 p=68251 u=jboyd215 |  ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 58, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: generate openssl cert
      ^ here


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 58, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: generate openssl cert
      ^ here

2018-03-06 13:00:01,870 p=68463 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:00:01,893 p=68463 u=jboyd215 |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 55, column 29, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

        src: index.html
        dest: {{ doc_root }}/index.html
                            ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2018-03-06 13:01:35,402 p=68593 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:01:35,505 p=68593 u=jboyd215 |  ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 58, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: generate openssl cert
      ^ here


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 58, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: generate openssl cert
      ^ here

2018-03-06 13:02:51,801 p=68798 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:02:52,188 p=68798 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 13:02:52,224 p=68798 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 13:02:54,270 p=68798 u=jboyd215 |  ok: [default]
2018-03-06 13:02:54,277 p=68798 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 13:03:08,146 p=68798 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520359374, "cache_updated": true, "changed": false}
2018-03-06 13:03:08,150 p=68798 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 13:03:10,895 p=68798 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (2688 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (2688 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 13:03:10,899 p=68798 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 13:03:11,248 p=68798 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 13:03:11,252 p=68798 u=jboyd215 |  TASK [clean current /var/www/html directory] ***********************************
2018-03-06 13:03:11,502 p=68798 u=jboyd215 |  ok: [default] => {"changed": false, "path": "/var/www/html/index.html", "state": "absent"}
2018-03-06 13:03:11,508 p=68798 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 13:03:12,045 p=68798 u=jboyd215 |  fatal: [default]: FAILED! => {"changed": false, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "failed": true, "msg": "Destination directory /var/www/html does not exist"}
2018-03-06 13:03:12,046 p=68798 u=jboyd215 |  NO MORE HOSTS LEFT *************************************************************
2018-03-06 13:03:12,047 p=68798 u=jboyd215 |  	to retry, use: --limit @playbook.retry

2018-03-06 13:03:12,047 p=68798 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 13:03:12,047 p=68798 u=jboyd215 |  default                    : ok=5    changed=1    unreachable=0    failed=1   
2018-03-06 13:07:51,462 p=69077 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:07:51,788 p=69077 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 13:07:51,818 p=69077 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 13:07:53,999 p=69077 u=jboyd215 |  ok: [default]
2018-03-06 13:07:54,006 p=69077 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 13:08:05,325 p=69077 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520359674, "cache_updated": true, "changed": false}
2018-03-06 13:08:05,329 p=69077 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 13:08:08,998 p=69077 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (2785 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (2785 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 13:08:09,003 p=69077 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 13:08:09,433 p=69077 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 13:08:09,437 p=69077 u=jboyd215 |  TASK [clean current /var/www/html directory] ***********************************
2018-03-06 13:08:09,708 p=69077 u=jboyd215 |  ok: [default] => {"changed": false, "path": "/var/www/html/index.html", "state": "absent"}
2018-03-06 13:08:09,713 p=69077 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 13:08:10,410 p=69077 u=jboyd215 |  fatal: [default]: FAILED! => {"changed": false, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "failed": true, "msg": "Destination directory /var/www/html does not exist"}
2018-03-06 13:08:10,411 p=69077 u=jboyd215 |  NO MORE HOSTS LEFT *************************************************************
2018-03-06 13:08:10,412 p=69077 u=jboyd215 |  	to retry, use: --limit @playbook.retry

2018-03-06 13:08:10,412 p=69077 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 13:08:10,413 p=69077 u=jboyd215 |  default                    : ok=5    changed=1    unreachable=0    failed=1   
2018-03-06 13:11:14,946 p=69350 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:11:15,276 p=69350 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 13:11:15,305 p=69350 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 13:11:17,751 p=69350 u=jboyd215 |  ok: [default]
2018-03-06 13:11:17,758 p=69350 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 13:11:34,083 p=69350 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520359878, "cache_updated": true, "changed": false}
2018-03-06 13:11:34,086 p=69350 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 13:11:36,899 p=69350 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (2929 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (2929 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 13:11:36,903 p=69350 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 13:11:37,245 p=69350 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 13:11:37,249 p=69350 u=jboyd215 |  TASK [clean current /var/www/html directory] ***********************************
2018-03-06 13:11:37,500 p=69350 u=jboyd215 |  ok: [default] => {"changed": false, "path": "/var/www/html/index.html", "state": "absent"}
2018-03-06 13:11:37,505 p=69350 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 13:11:38,041 p=69350 u=jboyd215 |  fatal: [default]: FAILED! => {"changed": false, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "failed": true, "msg": "Destination directory /var/www/html does not exist"}
2018-03-06 13:11:38,042 p=69350 u=jboyd215 |  NO MORE HOSTS LEFT *************************************************************
2018-03-06 13:11:38,043 p=69350 u=jboyd215 |  	to retry, use: --limit @playbook.retry

2018-03-06 13:11:38,043 p=69350 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 13:11:38,044 p=69350 u=jboyd215 |  default                    : ok=5    changed=1    unreachable=0    failed=1   
2018-03-06 13:13:17,700 p=69951 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:13:18,029 p=69951 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 13:13:18,060 p=69951 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 13:13:20,367 p=69951 u=jboyd215 |  ok: [default]
2018-03-06 13:13:20,373 p=69951 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 13:13:30,214 p=69951 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520360000, "cache_updated": true, "changed": false}
2018-03-06 13:13:30,218 p=69951 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 13:13:33,053 p=69951 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3898 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3898 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 13:13:33,057 p=69951 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 13:13:33,408 p=69951 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 13:13:33,412 p=69951 u=jboyd215 |  TASK [remove index.html file] **************************************************
2018-03-06 13:13:33,663 p=69951 u=jboyd215 |  changed: [default] => {"changed": true, "path": "/usr/share/nginx/html/index.html", "state": "absent"}
2018-03-06 13:13:33,668 p=69951 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 13:13:34,202 p=69951 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520360013.92-274076581576470/source", "state": "file", "uid": 0}
2018-03-06 13:13:34,205 p=69951 u=jboyd215 |  TASK [copy nginx.conf with redirect] *******************************************
2018-03-06 13:13:34,565 p=69951 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520360014.38-250416974106898/source", "state": "file", "uid": 0}
2018-03-06 13:13:34,568 p=69951 u=jboyd215 |  TASK [restart nginx] ***********************************************************
2018-03-06 13:13:35,798 p=69951 u=jboyd215 |  changed: [default] => {"changed": true, "name": "nginx", "state": "started"}
2018-03-06 13:13:35,800 p=69951 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 13:13:35,800 p=69951 u=jboyd215 |  default                    : ok=8    changed=5    unreachable=0    failed=0   
2018-03-06 13:20:02,851 p=70635 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:20:03,177 p=70635 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 13:20:03,206 p=70635 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 13:20:05,285 p=70635 u=jboyd215 |  ok: [default]
2018-03-06 13:20:05,291 p=70635 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 13:20:15,306 p=70635 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520360405, "cache_updated": true, "changed": false}
2018-03-06 13:20:15,310 p=70635 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 13:20:18,060 p=70635 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3630 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3630 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 13:20:18,064 p=70635 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 13:20:18,428 p=70635 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 13:20:18,432 p=70635 u=jboyd215 |  TASK [remove index.html file] **************************************************
2018-03-06 13:20:18,762 p=70635 u=jboyd215 |  fatal: [default]: FAILED! => {"changed": false, "failed": true, "module_stderr": "", "module_stdout": "\r\nTraceback (most recent call last):\r\n  File \"/tmp/ansible_539lBh/ansible_module_command.py\", line 250, in <module>\r\n    main()\r\n  File \"/tmp/ansible_539lBh/ansible_module_command.py\", line 181, in main\r\n    if args.strip() == '':\r\nAttributeError: 'NoneType' object has no attribute 'strip'\r\n", "msg": "MODULE FAILURE", "parsed": false}
2018-03-06 13:20:18,762 p=70635 u=jboyd215 |  NO MORE HOSTS LEFT *************************************************************
2018-03-06 13:20:18,763 p=70635 u=jboyd215 |  	to retry, use: --limit @playbook.retry

2018-03-06 13:20:18,763 p=70635 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 13:20:18,763 p=70635 u=jboyd215 |  default                    : ok=4    changed=1    unreachable=0    failed=1   
2018-03-06 13:21:36,086 p=70794 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:21:36,408 p=70794 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 13:21:36,438 p=70794 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 13:21:38,464 p=70794 u=jboyd215 |  ok: [default]
2018-03-06 13:21:38,471 p=70794 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 13:21:48,356 p=70794 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520360499, "cache_updated": true, "changed": false}
2018-03-06 13:21:48,360 p=70794 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 13:21:51,152 p=70794 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3602 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3602 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 13:21:51,156 p=70794 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 13:21:51,506 p=70794 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 13:21:51,510 p=70794 u=jboyd215 |  TASK [remove default contents] *************************************************
2018-03-06 13:21:51,761 p=70794 u=jboyd215 |  changed: [default] => {"changed": true, "cmd": ["rm", "-rf", "/usr/share/nginx/html/*"], "delta": "0:00:00.001897", "end": "2018-03-06 18:21:51.748487", "rc": 0, "start": "2018-03-06 18:21:51.746590", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using file module with state=absent rather than running rm"]}
2018-03-06 13:21:51,762 p=70794 u=jboyd215 |   [WARNING]: Consider using file module with state=absent rather than running rm

2018-03-06 13:21:51,767 p=70794 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 13:21:52,318 p=70794 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520360512.02-166742779228991/source", "state": "file", "uid": 0}
2018-03-06 13:21:52,321 p=70794 u=jboyd215 |  TASK [copy nginx.conf with redirect] *******************************************
2018-03-06 13:21:52,675 p=70794 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520360512.49-115250146138227/source", "state": "file", "uid": 0}
2018-03-06 13:21:52,679 p=70794 u=jboyd215 |  TASK [restart nginx] ***********************************************************
2018-03-06 13:21:53,910 p=70794 u=jboyd215 |  changed: [default] => {"changed": true, "name": "nginx", "state": "started"}
2018-03-06 13:21:53,913 p=70794 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 13:21:53,913 p=70794 u=jboyd215 |  default                    : ok=8    changed=5    unreachable=0    failed=0   
2018-03-06 13:24:28,850 p=71075 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 13:24:29,216 p=71075 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 13:24:29,245 p=71075 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 13:24:31,405 p=71075 u=jboyd215 |  ok: [default]
2018-03-06 13:24:31,412 p=71075 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 13:24:41,794 p=71075 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520360672, "cache_updated": true, "changed": false}
2018-03-06 13:24:41,798 p=71075 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 13:24:49,240 p=71075 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 2s (183 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 2s (183 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 13:24:49,251 p=71075 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 13:24:50,306 p=71075 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 13:24:50,316 p=71075 u=jboyd215 |  TASK [remove default contents] *************************************************
2018-03-06 13:24:51,107 p=71075 u=jboyd215 |  changed: [default] => {"changed": true, "cmd": ["rm", "-rf", "/usr/share/nginx/html/*"], "delta": "0:00:00.005203", "end": "2018-03-06 18:24:51.060064", "rc": 0, "start": "2018-03-06 18:24:51.054861", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using file module with state=absent rather than running rm"]}
2018-03-06 13:24:51,111 p=71075 u=jboyd215 |   [WARNING]: Consider using file module with state=absent rather than running rm

2018-03-06 13:24:51,130 p=71075 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 13:24:52,328 p=71075 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520360691.93-218894945856729/source", "state": "file", "uid": 0}
2018-03-06 13:24:52,331 p=71075 u=jboyd215 |  TASK [restart nginx] ***********************************************************
2018-03-06 13:24:53,588 p=71075 u=jboyd215 |  changed: [default] => {"changed": true, "name": "nginx", "state": "started"}
2018-03-06 13:24:53,590 p=71075 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 13:24:53,590 p=71075 u=jboyd215 |  default                    : ok=7    changed=4    unreachable=0    failed=0   
2018-03-06 17:17:03,855 p=86535 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 17:17:04,231 p=86535 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 17:17:04,265 p=86535 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 17:17:06,800 p=86535 u=jboyd215 |  ok: [default]
2018-03-06 17:17:06,807 p=86535 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 17:17:19,955 p=86535 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520374627, "cache_updated": true, "changed": false}
2018-03-06 17:17:19,959 p=86535 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 17:17:22,820 p=86535 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3960 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3960 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 17:17:22,824 p=86535 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 17:17:23,183 p=86535 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 17:17:23,186 p=86535 u=jboyd215 |  TASK [remove default contents] *************************************************
2018-03-06 17:17:23,467 p=86535 u=jboyd215 |  changed: [default] => {"changed": true, "cmd": ["rm", "-rf", "/usr/share/nginx/html/*"], "delta": "0:00:00.001742", "end": "2018-03-06 22:17:23.462961", "rc": 0, "start": "2018-03-06 22:17:23.461219", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using file module with state=absent rather than running rm"]}
2018-03-06 17:17:23,468 p=86535 u=jboyd215 |   [WARNING]: Consider using file module with state=absent rather than running rm

2018-03-06 17:17:23,473 p=86535 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 17:17:24,034 p=86535 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520374643.75-280843690516646/source", "state": "file", "uid": 0}
2018-03-06 17:17:24,038 p=86535 u=jboyd215 |  TASK [restart nginx] ***********************************************************
2018-03-06 17:17:25,299 p=86535 u=jboyd215 |  changed: [default] => {"changed": true, "name": "nginx", "state": "started"}
2018-03-06 17:17:25,301 p=86535 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 17:17:25,301 p=86535 u=jboyd215 |  default                    : ok=7    changed=4    unreachable=0    failed=0   
2018-03-06 17:20:11,033 p=88209 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 17:20:11,371 p=88209 u=jboyd215 |  PLAY [Setting up Apache Webserver] *********************************************
2018-03-06 17:20:11,405 p=88209 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 17:20:13,883 p=88209 u=jboyd215 |  ok: [default]
2018-03-06 17:20:13,890 p=88209 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 17:20:20,000 p=88209 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520374814, "cache_updated": true, "changed": false}
2018-03-06 17:20:20,005 p=88209 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 17:20:20,487 p=88209 u=jboyd215 |  ok: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2018-03-06 17:20:20,491 p=88209 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 17:20:20,852 p=88209 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 17:20:20,855 p=88209 u=jboyd215 |  TASK [remove default contents] *************************************************
2018-03-06 17:20:21,137 p=88209 u=jboyd215 |  changed: [default] => {"changed": true, "cmd": ["rm", "-rf", "/usr/share/nginx/html/*"], "delta": "0:00:00.001675", "end": "2018-03-06 22:20:21.199588", "rc": 0, "start": "2018-03-06 22:20:21.197913", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using file module with state=absent rather than running rm"]}
2018-03-06 17:20:21,138 p=88209 u=jboyd215 |   [WARNING]: Consider using file module with state=absent rather than running rm

2018-03-06 17:20:21,143 p=88209 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 17:20:21,669 p=88209 u=jboyd215 |  ok: [default] => {"changed": false, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/usr/share/nginx/html/index.html", "size": 5618, "state": "file", "uid": 0}
2018-03-06 17:20:21,673 p=88209 u=jboyd215 |  TASK [restart nginx] ***********************************************************
2018-03-06 17:23:07,016 p=88897 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 17:23:07,361 p=88897 u=jboyd215 |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 17:23:07,391 p=88897 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 17:23:09,701 p=88897 u=jboyd215 |  ok: [default]
2018-03-06 17:23:09,708 p=88897 u=jboyd215 |  TASK [Update apt] **************************************************************
2018-03-06 17:23:19,602 p=88897 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520374990, "cache_updated": true, "changed": false}
2018-03-06 17:23:19,606 p=88897 u=jboyd215 |  TASK [install nginx] ***********************************************************
2018-03-06 17:23:23,387 p=88897 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3971 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3971 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 17:23:23,397 p=88897 u=jboyd215 |  TASK [remove default contents] *************************************************
2018-03-06 17:23:24,158 p=88897 u=jboyd215 |  changed: [default] => {"changed": true, "cmd": ["rm", "-rf", "/usr/share/nginx/html/*"], "delta": "0:00:00.002136", "end": "2018-03-06 22:23:24.138125", "rc": 0, "start": "2018-03-06 22:23:24.135989", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": ["Consider using file module with state=absent rather than running rm"]}
2018-03-06 17:23:24,160 p=88897 u=jboyd215 |   [WARNING]: Consider using file module with state=absent rather than running rm

2018-03-06 17:23:24,179 p=88897 u=jboyd215 |  TASK [Move index.html file] ****************************************************
2018-03-06 17:23:24,953 p=88897 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520375004.6-105991633975543/source", "state": "file", "uid": 0}
2018-03-06 17:23:24,958 p=88897 u=jboyd215 |  TASK [start and enable nginx] **************************************************
2018-03-06 17:23:25,348 p=88897 u=jboyd215 |  ok: [default] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2018-03-06 17:23:25,351 p=88897 u=jboyd215 |  TASK [restart nginx] ***********************************************************
2018-03-06 17:23:26,642 p=88897 u=jboyd215 |  changed: [default] => {"changed": true, "name": "nginx", "state": "started"}
2018-03-06 17:23:26,644 p=88897 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 17:23:26,644 p=88897 u=jboyd215 |  default                    : ok=7    changed=4    unreachable=0    failed=0   
2018-03-06 17:50:28,965 p=90721 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 17:50:29,340 p=90721 u=jboyd215 |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 17:50:29,375 p=90721 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 17:50:32,189 p=90721 u=jboyd215 |  ok: [default]
2018-03-06 17:50:32,197 p=90721 u=jboyd215 |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 17:50:41,833 p=90721 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520376632, "cache_updated": true, "changed": false}
2018-03-06 17:50:41,837 p=90721 u=jboyd215 |  TASK [Install Nginx] ***********************************************************
2018-03-06 17:50:44,644 p=90721 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3287 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3287 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 17:50:44,649 p=90721 u=jboyd215 |  TASK [Install custom index.html] ***********************************************
2018-03-06 17:50:45,237 p=90721 u=jboyd215 |  fatal: [default]: FAILED! => {"changed": false, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "failed": true, "msg": "unsupported parameter for module: notify"}
2018-03-06 17:50:45,238 p=90721 u=jboyd215 |  NO MORE HOSTS LEFT *************************************************************
2018-03-06 17:50:45,239 p=90721 u=jboyd215 |  	to retry, use: --limit @playbook.retry

2018-03-06 17:50:45,239 p=90721 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 17:50:45,240 p=90721 u=jboyd215 |  default                    : ok=3    changed=1    unreachable=0    failed=1   
2018-03-06 17:52:00,801 p=91034 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 17:52:01,118 p=91034 u=jboyd215 |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 17:52:01,148 p=91034 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 17:52:03,524 p=91034 u=jboyd215 |  ok: [default]
2018-03-06 17:52:03,531 p=91034 u=jboyd215 |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 17:52:14,158 p=91034 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520376724, "cache_updated": true, "changed": false}
2018-03-06 17:52:14,162 p=91034 u=jboyd215 |  TASK [Install Nginx] ***********************************************************
2018-03-06 17:52:17,013 p=91034 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (4038 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (4038 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 17:52:17,019 p=91034 u=jboyd215 |  TASK [Install custom index.html] ***********************************************
2018-03-06 17:52:17,605 p=91034 u=jboyd215 |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520376737.32-58877452352778/source", "state": "file", "uid": 0}
2018-03-06 17:52:17,606 p=91034 u=jboyd215 |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-06 17:52:19,026 p=91034 u=jboyd215 |  changed: [default] => {"changed": true, "name": "nginx", "state": "started"}
2018-03-06 17:52:19,029 p=91034 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 17:52:19,029 p=91034 u=jboyd215 |  default                    : ok=5    changed=3    unreachable=0    failed=0   
2018-03-06 18:07:34,770 p=92682 u=jboyd215 |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 18:07:35,094 p=92682 u=jboyd215 |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 18:07:35,124 p=92682 u=jboyd215 |  TASK [setup] *******************************************************************
2018-03-06 18:07:37,818 p=92682 u=jboyd215 |  ok: [default]
2018-03-06 18:07:37,826 p=92682 u=jboyd215 |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 18:07:55,241 p=92682 u=jboyd215 |  ok: [default] => {"cache_update_time": 1520377658, "cache_updated": true, "changed": false}
2018-03-06 18:07:55,246 p=92682 u=jboyd215 |  TASK [Install Nginx] ***********************************************************
2018-03-06 18:07:59,107 p=92682 u=jboyd215 |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3590 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 62991 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 207 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3590 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 62991 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.9) ..."]}
2018-03-06 18:07:59,112 p=92682 u=jboyd215 |  PLAY RECAP *********************************************************************
2018-03-06 18:07:59,112 p=92682 u=jboyd215 |  default                    : ok=3    changed=1    unreachable=0    failed=0   
2018-03-06 18:20:17,200 p=93877 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 18:20:17,553 p=93877 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 18:20:17,586 p=93877 u=root |  TASK [setup] *******************************************************************
2018-03-06 18:20:20,738 p=93877 u=root |  ok: [default]
2018-03-06 18:20:20,747 p=93877 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 18:20:43,675 p=93877 u=root |  ok: [default] => {"cache_update_time": 1520378421, "cache_updated": true, "changed": false}
2018-03-06 18:20:43,679 p=93877 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 18:20:47,141 p=93877 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3489 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3489 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 18:20:47,144 p=93877 u=root |  PLAY RECAP *********************************************************************
2018-03-06 18:20:47,144 p=93877 u=root |  default                    : ok=3    changed=1    unreachable=0    failed=0   
2018-03-06 18:34:11,689 p=95381 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 18:34:13,041 p=95381 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 18:34:13,137 p=95381 u=root |  TASK [setup] *******************************************************************
2018-03-06 18:34:33,184 p=95381 u=root |  ok: [default]
2018-03-06 18:34:33,221 p=95381 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 18:34:53,067 p=95381 u=root |  ok: [default] => {"cache_update_time": 1520379274, "cache_updated": true, "changed": false}
2018-03-06 18:34:53,081 p=95381 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 18:34:59,591 p=95381 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (4017 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (4017 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 18:34:59,597 p=95381 u=root |  PLAY RECAP *********************************************************************
2018-03-06 18:34:59,598 p=95381 u=root |  default                    : ok=3    changed=1    unreachable=0    failed=0   
2018-03-06 18:46:16,102 p=95997 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 18:46:16,737 p=95997 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 18:46:16,810 p=95997 u=root |  TASK [setup] *******************************************************************
2018-03-06 18:46:40,166 p=95997 u=root |  ok: [default]
2018-03-06 18:46:40,198 p=95997 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 18:46:56,440 p=95997 u=root |  ok: [default] => {"cache_update_time": 1520380001, "cache_updated": true, "changed": false}
2018-03-06 18:46:56,452 p=95997 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 18:47:01,810 p=95997 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3388 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3388 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 18:47:01,817 p=95997 u=root |  PLAY RECAP *********************************************************************
2018-03-06 18:47:01,817 p=95997 u=root |  default                    : ok=3    changed=1    unreachable=0    failed=0   
2018-03-06 18:58:28,739 p=96787 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 18:58:29,476 p=96787 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 18:58:29,536 p=96787 u=root |  TASK [setup] *******************************************************************
2018-03-06 18:58:39,247 p=96787 u=root |  ok: [default]
2018-03-06 18:58:39,258 p=96787 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 18:58:53,828 p=96787 u=root |  ok: [default] => {"cache_update_time": 1520380720, "cache_updated": true, "changed": false}
2018-03-06 18:58:53,835 p=96787 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 18:58:58,937 p=96787 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3834 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3834 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 18:58:58,946 p=96787 u=root |  TASK [Install custom index.html] ***********************************************
2018-03-06 18:59:00,025 p=96787 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520380739.45-134932369450469/source", "state": "file", "uid": 0}
2018-03-06 18:59:00,027 p=96787 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-06 18:59:01,716 p=96787 u=root |  changed: [default] => {"changed": true, "name": "nginx", "state": "started"}
2018-03-06 18:59:01,721 p=96787 u=root |  PLAY RECAP *********************************************************************
2018-03-06 18:59:01,722 p=96787 u=root |  default                    : ok=5    changed=3    unreachable=0    failed=0   
2018-03-06 19:21:23,531 p=99134 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 19:21:23,711 p=99134 u=root |  ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 48, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Create Openssl Certificate
      ^ here


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 48, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Create Openssl Certificate
      ^ here

2018-03-06 19:27:12,447 p=99824 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 19:27:12,738 p=99824 u=root |  ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 57, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Generate a Self Signed OpenSSL certificate
      ^ here


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 57, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Generate a Self Signed OpenSSL certificate
      ^ here

2018-03-06 19:29:36,085 p=195 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 19:29:36,276 p=195 u=root |  ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 57, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Generate a Self Signed OpenSSL certificate
      ^ here


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 57, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Generate a Self Signed OpenSSL certificate
      ^ here

2018-03-06 19:33:38,066 p=444 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 19:33:38,219 p=444 u=root |  ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 55, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Generate a Self Signed OpenSSL certificate
      ^ here


The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 55, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Generate a Self Signed OpenSSL certificate
      ^ here

2018-03-06 19:40:05,634 p=1170 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 19:40:05,797 p=1170 u=root |  Loaded callback default of type stdout, v2.0
2018-03-06 19:40:06,265 p=1170 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-06 19:40:06,265 p=1170 u=root |  1 plays in playbook.yml
2018-03-06 19:40:06,275 p=1170 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 19:40:06,374 p=1170 u=root |  TASK [setup] *******************************************************************
2018-03-06 19:40:11,716 p=1170 u=root |  ok: [default]
2018-03-06 19:40:11,728 p=1170 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 19:40:11,729 p=1170 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:29
2018-03-06 19:40:27,139 p=1170 u=root |  ok: [default] => {"cache_update_time": 1520383213, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-06 19:40:27,144 p=1170 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 19:40:27,145 p=1170 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:33
2018-03-06 19:40:31,991 p=1170 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3739 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3739 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 19:40:31,997 p=1170 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-06 19:40:31,997 p=1170 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:62
2018-03-06 19:40:32,662 p=1170 u=root |  fatal: [default]: FAILED! => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.150395", "end": "2018-03-07 00:40:33.424323", "failed": true, "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 1, "start": "2018-03-07 00:40:33.273928", "stderr": "Generating a 2048 bit RSA private key\n..................+++\n.............................................+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n/etc/nginx/ssl/server.key: No such file or directory\n139957742093984:error:02001002:system library:fopen:No such file or directory:bss_file.c:398:fopen('/etc/nginx/ssl/server.key','w')\n139957742093984:error:20074002:BIO routines:FILE_CTRL:system lib:bss_file.c:400:", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-06 19:40:32,664 p=1170 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-06 19:40:32,666 p=1170 u=root |  	to retry, use: --limit @playbook.retry

2018-03-06 19:40:32,666 p=1170 u=root |  PLAY RECAP *********************************************************************
2018-03-06 19:40:32,666 p=1170 u=root |  default                    : ok=3    changed=1    unreachable=0    failed=1   
2018-03-06 19:44:33,037 p=1610 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 19:44:33,216 p=1610 u=root |  Loaded callback default of type stdout, v2.0
2018-03-06 19:44:33,718 p=1610 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-06 19:44:33,718 p=1610 u=root |  1 plays in playbook.yml
2018-03-06 19:44:33,735 p=1610 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 19:44:33,806 p=1610 u=root |  TASK [setup] *******************************************************************
2018-03-06 19:44:43,964 p=1610 u=root |  ok: [default]
2018-03-06 19:44:43,980 p=1610 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 19:44:43,980 p=1610 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:29
2018-03-06 19:45:00,998 p=1610 u=root |  ok: [default] => {"cache_update_time": 1520383485, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-06 19:45:01,006 p=1610 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 19:45:01,006 p=1610 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:33
2018-03-06 19:45:05,747 p=1610 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3888 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3888 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 19:45:05,753 p=1610 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-06 19:45:05,753 p=1610 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-06 19:45:06,265 p=1610 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-06 19:45:06,270 p=1610 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-06 19:45:06,271 p=1610 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:67
2018-03-06 19:45:06,841 p=1610 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-06 19:45:06,843 p=1610 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.090309", "end": "2018-03-07 00:45:07.602957", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 00:45:07.512648", "stderr": "Generating a 2048 bit RSA private key\n..............+++\n................+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-06 19:45:06,851 p=1610 u=root |  TASK [Install custom index.html] ***********************************************
2018-03-06 19:45:06,851 p=1610 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:84
2018-03-06 19:45:07,882 p=1610 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520383507.35-52457062566385/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520383507.35-52457062566385/source", "state": "file", "uid": 0}
2018-03-06 19:45:07,885 p=1610 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-06 19:45:09,698 p=1610 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-06 19:45:09,702 p=1610 u=root |  PLAY RECAP *********************************************************************
2018-03-06 19:45:09,702 p=1610 u=root |  default                    : ok=7    changed=5    unreachable=0    failed=0   
2018-03-06 19:53:01,463 p=2147 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 19:53:01,654 p=2147 u=root |  Loaded callback default of type stdout, v2.0
2018-03-06 19:53:02,030 p=2147 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-06 19:53:02,031 p=2147 u=root |  1 plays in playbook.yml
2018-03-06 19:53:02,050 p=2147 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 19:53:02,125 p=2147 u=root |  TASK [setup] *******************************************************************
2018-03-06 19:53:14,361 p=2147 u=root |  ok: [default]
2018-03-06 19:53:14,374 p=2147 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 19:53:14,375 p=2147 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:29
2018-03-06 19:53:30,460 p=2147 u=root |  ok: [default] => {"cache_update_time": 1520383996, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-06 19:53:30,468 p=2147 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 19:53:30,468 p=2147 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:33
2018-03-06 19:53:35,773 p=2147 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3792 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3792 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 19:53:35,779 p=2147 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-06 19:53:35,779 p=2147 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-06 19:53:36,326 p=2147 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-06 19:53:36,331 p=2147 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-06 19:53:36,332 p=2147 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:67
2018-03-06 19:53:36,989 p=2147 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.191535", "end": "2018-03-07 00:53:37.756745", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 00:53:37.565210", "stderr": "Generating a 2048 bit RSA private key\n...............+++\n.....................................................................+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-06 19:53:36,999 p=2147 u=root |  TASK [Install custom index.html] ***********************************************
2018-03-06 19:53:36,999 p=2147 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-06 19:53:38,025 p=2147 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520384017.49-162888050372424/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520384017.49-162888050372424/source", "state": "file", "uid": 0}
2018-03-06 19:53:38,034 p=2147 u=root |  TASK [Restart Nginx] ***********************************************************
2018-03-06 19:53:38,034 p=2147 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:89
2018-03-06 19:53:39,866 p=2147 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-06 19:53:39,870 p=2147 u=root |  PLAY RECAP *********************************************************************
2018-03-06 19:53:39,871 p=2147 u=root |  default                    : ok=7    changed=5    unreachable=0    failed=0   
2018-03-06 20:02:58,752 p=2891 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 20:02:59,115 p=2891 u=root |  Loaded callback default of type stdout, v2.0
2018-03-06 20:02:59,523 p=2891 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-06 20:02:59,523 p=2891 u=root |  1 plays in playbook.yml
2018-03-06 20:02:59,539 p=2891 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 20:02:59,615 p=2891 u=root |  TASK [setup] *******************************************************************
2018-03-06 20:03:10,138 p=2891 u=root |  ok: [default]
2018-03-06 20:03:10,152 p=2891 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 20:03:10,152 p=2891 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:29
2018-03-06 20:03:31,347 p=2891 u=root |  ok: [default] => {"cache_update_time": 1520384592, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-06 20:03:31,407 p=2891 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 20:03:31,407 p=2891 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:33
2018-03-06 20:03:38,336 p=2891 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3437 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3437 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 20:03:38,342 p=2891 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-06 20:03:38,342 p=2891 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-06 20:03:38,922 p=2891 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-06 20:03:38,929 p=2891 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-06 20:03:38,930 p=2891 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:67
2018-03-06 20:03:39,614 p=2891 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.077338", "end": "2018-03-07 01:03:40.362718", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 01:03:40.285380", "stderr": "Generating a 2048 bit RSA private key\n......+++\n......+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-06 20:03:39,625 p=2891 u=root |  TASK [Install custom (TLS/SSL) Nginx Config File] ******************************
2018-03-06 20:03:39,625 p=2891 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:77
2018-03-06 20:03:40,869 p=2891 u=root |  changed: [default] => {"changed": true, "checksum": "173034619c564188c7b5b3f742a29ff3113e2db8", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520384620.16-187525760072923/source", "validate": null}}, "md5sum": "566336a4aaf1e023f3494dd335bdea07", "mode": "0644", "owner": "root", "size": 2461, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520384620.16-187525760072923/source", "state": "file", "uid": 0}
2018-03-06 20:03:40,876 p=2891 u=root |  TASK [Install custom index.html] ***********************************************
2018-03-06 20:03:40,876 p=2891 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-06 20:03:41,808 p=2891 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520384621.36-195346470025407/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520384621.36-195346470025407/source", "state": "file", "uid": 0}
2018-03-06 20:03:41,817 p=2891 u=root |  TASK [Restart Nginx] ***********************************************************
2018-03-06 20:03:41,817 p=2891 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:89
2018-03-06 20:03:43,647 p=2891 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-06 20:03:43,653 p=2891 u=root |  PLAY RECAP *********************************************************************
2018-03-06 20:03:43,654 p=2891 u=root |  default                    : ok=8    changed=6    unreachable=0    failed=0   
2018-03-06 20:06:53,879 p=3178 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-06 20:06:54,014 p=3178 u=root |  Loaded callback default of type stdout, v2.0
2018-03-06 20:06:54,271 p=3178 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-06 20:06:54,272 p=3178 u=root |  1 plays in playbook.yml
2018-03-06 20:06:54,280 p=3178 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-06 20:06:54,320 p=3178 u=root |  TASK [setup] *******************************************************************
2018-03-06 20:06:58,138 p=3178 u=root |  ok: [default]
2018-03-06 20:06:58,147 p=3178 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-06 20:06:58,147 p=3178 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:29
2018-03-06 20:07:10,404 p=3178 u=root |  ok: [default] => {"cache_update_time": 1520384819, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-06 20:07:10,409 p=3178 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-06 20:07:10,410 p=3178 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:33
2018-03-06 20:07:14,538 p=3178 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (3916 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (3916 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-06 20:07:14,543 p=3178 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-06 20:07:14,544 p=3178 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:47
2018-03-06 20:07:14,937 p=3178 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-06 20:07:14,942 p=3178 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-06 20:07:14,942 p=3178 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:60
2018-03-06 20:07:15,472 p=3178 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.116063", "end": "2018-03-07 01:07:16.251998", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 01:07:16.135935", "stderr": "Generating a 2048 bit RSA private key\n.......................+++\n............................+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-06 20:07:15,479 p=3178 u=root |  TASK [Install custom index.html] ***********************************************
2018-03-06 20:07:15,479 p=3178 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-06 20:07:16,355 p=3178 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520384835.88-246976075512356/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520384835.88-246976075512356/source", "state": "file", "uid": 0}
2018-03-06 20:07:16,361 p=3178 u=root |  TASK [Restart Nginx] ***********************************************************
2018-03-06 20:07:16,362 p=3178 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:75
2018-03-06 20:07:17,981 p=3178 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-06 20:07:17,986 p=3178 u=root |  PLAY RECAP *********************************************************************
2018-03-06 20:07:17,987 p=3178 u=root |  default                    : ok=7    changed=5    unreachable=0    failed=0   
2018-03-07 15:42:35,903 p=21882 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 15:42:36,167 p=21882 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 15:42:37,134 p=21882 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 15:42:37,135 p=21882 u=root |  1 plays in playbook.yml
2018-03-07 15:42:37,143 p=21882 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 15:42:37,299 p=21882 u=root |  TASK [setup] *******************************************************************
2018-03-07 15:42:40,882 p=21882 u=root |  ok: [default]
2018-03-07 15:42:40,890 p=21882 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 15:42:40,891 p=21882 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:29
2018-03-07 15:42:51,496 p=21882 u=root |  ok: [default] => {"cache_update_time": 1520455361, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 15:42:51,500 p=21882 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 15:42:51,500 p=21882 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:33
2018-03-07 15:42:56,479 p=21882 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (413 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (413 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 15:42:56,484 p=21882 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-07 15:42:56,484 p=21882 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:47
2018-03-07 15:42:56,826 p=21882 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 15:42:56,834 p=21882 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 15:42:56,834 p=21882 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:61
2018-03-07 15:42:57,343 p=21882 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.066046", "end": "2018-03-07 20:42:57.322483", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Oregon/L=Portland/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 20:42:57.256437", "stderr": "Generating a 2048 bit RSA private key\n..........+++\n.............+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 15:42:57,352 p=21882 u=root |  TASK [Install custom index.html] ***********************************************
2018-03-07 15:42:57,353 p=21882 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:70
2018-03-07 15:42:58,133 p=21882 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520455377.73-7666907025368/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520455377.73-7666907025368/source", "state": "file", "uid": 0}
2018-03-07 15:42:58,138 p=21882 u=root |  TASK [Restart Nginx] ***********************************************************
2018-03-07 15:42:58,138 p=21882 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:77
2018-03-07 15:42:59,739 p=21882 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 15:42:59,746 p=21882 u=root |  PLAY RECAP *********************************************************************
2018-03-07 15:42:59,746 p=21882 u=root |  default                    : ok=7    changed=5    unreachable=0    failed=0   
2018-03-07 16:34:10,334 p=28198 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 16:34:10,543 p=28198 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 16:34:10,794 p=28198 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 16:34:10,794 p=28198 u=root |  1 plays in playbook.yml
2018-03-07 16:34:10,801 p=28198 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 16:34:10,836 p=28198 u=root |  TASK [setup] *******************************************************************
2018-03-07 16:34:13,317 p=28198 u=root |  ok: [default]
2018-03-07 16:34:13,324 p=28198 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 16:34:13,325 p=28198 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 16:34:23,492 p=28198 u=root |  ok: [default] => {"cache_update_time": 1520458453, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 16:34:23,496 p=28198 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 16:34:23,496 p=28198 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 16:34:27,542 p=28198 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (508 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (508 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 16:34:27,545 p=28198 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-07 16:34:27,546 p=28198 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:40
2018-03-07 16:34:27,869 p=28198 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 16:34:27,873 p=28198 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 16:34:27,873 p=28198 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:46
2018-03-07 16:34:28,422 p=28198 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.222622", "end": "2018-03-07 21:34:28.408538", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 21:34:28.185916", "stderr": "Generating a 2048 bit RSA private key\n..................................................................................................................+++\n.....................................+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 16:34:28,427 p=28198 u=root |  TASK [Backup Vanilla Nginx Conf] ***********************************************
2018-03-07 16:34:28,427 p=28198 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 16:34:28,455 p=28198 u=root |  fatal: [default]: FAILED! => {"failed": true, "msg": "the file_name '/etc/nginx/nginx.conf' does not exist, or is not readable"}
2018-03-07 16:34:28,456 p=28198 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 16:34:28,457 p=28198 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 16:34:28,457 p=28198 u=root |  PLAY RECAP *********************************************************************
2018-03-07 16:34:28,457 p=28198 u=root |  default                    : ok=5    changed=3    unreachable=0    failed=1   
2018-03-07 16:38:57,012 p=28552 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 16:38:57,123 p=28552 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 16:38:57,339 p=28552 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 16:38:57,339 p=28552 u=root |  1 plays in playbook.yml
2018-03-07 16:38:57,346 p=28552 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 16:38:57,375 p=28552 u=root |  TASK [setup] *******************************************************************
2018-03-07 16:39:00,279 p=28552 u=root |  ok: [default]
2018-03-07 16:39:00,286 p=28552 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 16:39:00,287 p=28552 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 16:39:11,003 p=28552 u=root |  ok: [default] => {"cache_update_time": 1520458741, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 16:39:11,007 p=28552 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 16:39:11,007 p=28552 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 16:39:15,627 p=28552 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (382 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (382 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 16:39:15,630 p=28552 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-07 16:39:15,630 p=28552 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:40
2018-03-07 16:39:15,985 p=28552 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 16:39:15,991 p=28552 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 16:39:15,991 p=28552 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:46
2018-03-07 16:39:16,748 p=28552 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.437658", "end": "2018-03-07 21:39:16.736455", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 21:39:16.298797", "stderr": "Generating a 2048 bit RSA private key\n.............................................................................................................................................+++\n........................................................................................................................................................+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 16:39:16,753 p=28552 u=root |  TASK [Backup Vanilla Nginx Conf] ***********************************************
2018-03-07 16:39:16,753 p=28552 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 16:39:16,781 p=28552 u=root |  fatal: [default]: FAILED! => {"failed": true, "msg": "the file_name '/etc/nginx/nginx.conf' does not exist, or is not readable"}
2018-03-07 16:39:16,782 p=28552 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 16:39:16,783 p=28552 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 16:39:16,783 p=28552 u=root |  PLAY RECAP *********************************************************************
2018-03-07 16:39:16,783 p=28552 u=root |  default                    : ok=5    changed=3    unreachable=0    failed=1   
2018-03-07 16:45:06,304 p=28996 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 16:45:06,416 p=28996 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 16:45:06,641 p=28996 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 16:45:06,641 p=28996 u=root |  1 plays in playbook.yml
2018-03-07 16:45:06,648 p=28996 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 16:45:06,678 p=28996 u=root |  TASK [setup] *******************************************************************
2018-03-07 16:45:09,031 p=28996 u=root |  ok: [default]
2018-03-07 16:45:09,038 p=28996 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 16:45:09,038 p=28996 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 16:45:20,100 p=28996 u=root |  ok: [default] => {"cache_update_time": 1520459109, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 16:45:20,104 p=28996 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 16:45:20,104 p=28996 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 16:45:24,460 p=28996 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (383 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (383 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 16:45:24,464 p=28996 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-07 16:45:24,464 p=28996 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:40
2018-03-07 16:45:24,772 p=28996 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 16:45:24,775 p=28996 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 16:45:24,778 p=28996 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:46
2018-03-07 16:45:25,147 p=28996 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.051754", "end": "2018-03-07 21:45:25.134018", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 21:45:25.082264", "stderr": "Generating a 2048 bit RSA private key\n...................+++\n........+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 16:45:25,151 p=28996 u=root |  TASK [Prep Original Nginx Conf for Backup] *************************************
2018-03-07 16:45:25,151 p=28996 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 16:45:25,374 p=28996 u=root |  ok: [default] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": 420, "original_basename": null, "owner": null, "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}, "module_name": "file"}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 1601, "state": "file", "uid": 0}
2018-03-07 16:45:25,382 p=28996 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 16:45:25,382 p=28996 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 16:45:25,428 p=28996 u=root |  fatal: [default]: FAILED! => {"failed": true, "msg": "the file_name '/etc/nginx/nginx.conf' does not exist, or is not readable"}
2018-03-07 16:45:25,429 p=28996 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 16:45:25,430 p=28996 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 16:45:25,431 p=28996 u=root |  PLAY RECAP *********************************************************************
2018-03-07 16:45:25,431 p=28996 u=root |  default                    : ok=6    changed=3    unreachable=0    failed=1   
2018-03-07 16:47:57,825 p=29269 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 16:47:57,936 p=29269 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 16:47:58,167 p=29269 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 16:47:58,167 p=29269 u=root |  1 plays in playbook.yml
2018-03-07 16:47:58,175 p=29269 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 16:47:58,205 p=29269 u=root |  TASK [setup] *******************************************************************
2018-03-07 16:48:02,761 p=29269 u=root |  ok: [default]
2018-03-07 16:48:02,766 p=29269 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 16:48:02,767 p=29269 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 16:48:14,555 p=29269 u=root |  ok: [default] => {"cache_update_time": 1520459283, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 16:48:14,560 p=29269 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 16:48:14,560 p=29269 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 16:48:18,452 p=29269 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (509 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (509 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 16:48:18,456 p=29269 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-07 16:48:18,457 p=29269 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:40
2018-03-07 16:48:18,800 p=29269 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 16:48:18,806 p=29269 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 16:48:18,806 p=29269 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:46
2018-03-07 16:48:19,344 p=29269 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.169020", "end": "2018-03-07 21:48:19.329009", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 21:48:19.159989", "stderr": "Generating a 2048 bit RSA private key\n...................+++\n.........................................................................+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 16:48:19,349 p=29269 u=root |  TASK [Prep Original Nginx Conf for Backup] *************************************
2018-03-07 16:48:19,349 p=29269 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 16:48:19,592 p=29269 u=root |  ok: [default] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": 420, "original_basename": null, "owner": null, "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}, "module_name": "file"}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 1601, "state": "file", "uid": 0}
2018-03-07 16:48:19,597 p=29269 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 16:48:19,597 p=29269 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 16:48:19,644 p=29269 u=root |  fatal: [default]: FAILED! => {"failed": true, "msg": "the file_name '/etc/nginx/nginx.conf' does not exist, or is not readable"}
2018-03-07 16:48:19,645 p=29269 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 16:48:19,647 p=29269 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 16:48:19,647 p=29269 u=root |  PLAY RECAP *********************************************************************
2018-03-07 16:48:19,647 p=29269 u=root |  default                    : ok=6    changed=3    unreachable=0    failed=1   
2018-03-07 16:52:40,082 p=29511 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 16:52:40,181 p=29511 u=root |  ERROR! failed at splitting arguments, either an unbalanced jinja2 block or quotes: mv {{ doc_root }}/index.html {{ doc_root }/backup/index.html

The error appears to have been in '/Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml': line 53, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

      command: "mv {{ nginx_root }}/nginx.conf {{ nginx_root }}/backup/nginx.conf"
    - name: Backup Original index.html
      ^ here

2018-03-07 16:54:05,651 p=29621 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 16:54:05,754 p=29621 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 16:54:05,969 p=29621 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 16:54:05,969 p=29621 u=root |  1 plays in playbook.yml
2018-03-07 16:54:05,976 p=29621 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 16:54:06,005 p=29621 u=root |  TASK [setup] *******************************************************************
2018-03-07 16:54:10,018 p=29621 u=root |  ok: [default]
2018-03-07 16:54:10,025 p=29621 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 16:54:10,025 p=29621 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 16:54:20,257 p=29621 u=root |  ok: [default] => {"cache_update_time": 1520459651, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 16:54:20,261 p=29621 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 16:54:20,261 p=29621 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 16:54:24,240 p=29621 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (472 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (472 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 16:54:24,244 p=29621 u=root |  TASK [Create Directory for TLS/SSL Files] **************************************
2018-03-07 16:54:24,244 p=29621 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:40
2018-03-07 16:54:24,560 p=29621 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 16:54:24,564 p=29621 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 16:54:24,565 p=29621 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:46
2018-03-07 16:54:24,982 p=29621 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.092749", "end": "2018-03-07 21:54:24.972494", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 21:54:24.879745", "stderr": "Generating a 2048 bit RSA private key\n.......+++\n.....................................................+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 16:54:24,986 p=29621 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 16:54:24,986 p=29621 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 16:54:25,233 p=29621 u=root |  fatal: [default]: FAILED! => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003366", "end": "2018-03-07 21:54:25.221749", "failed": true, "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 1, "start": "2018-03-07 21:54:25.218383", "stderr": "mv: cannot move /etc/nginx/nginx.conf to /etc/nginx/backup/nginx.conf: No such file or directory", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 16:54:25,234 p=29621 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 16:54:25,235 p=29621 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 16:54:25,235 p=29621 u=root |  PLAY RECAP *********************************************************************
2018-03-07 16:54:25,235 p=29621 u=root |  default                    : ok=5    changed=3    unreachable=0    failed=1   
2018-03-07 16:57:58,819 p=30116 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 16:57:58,932 p=30116 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 16:57:59,158 p=30116 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 16:57:59,158 p=30116 u=root |  1 plays in playbook.yml
2018-03-07 16:57:59,165 p=30116 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 16:57:59,195 p=30116 u=root |  TASK [setup] *******************************************************************
2018-03-07 16:58:03,643 p=30116 u=root |  ok: [default]
2018-03-07 16:58:03,651 p=30116 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 16:58:03,651 p=30116 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 16:58:14,706 p=30116 u=root |  ok: [default] => {"cache_update_time": 1520459884, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 16:58:14,711 p=30116 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 16:58:14,711 p=30116 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 16:58:18,605 p=30116 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (498 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (498 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 16:58:18,609 p=30116 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 16:58:18,609 p=30116 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:41
2018-03-07 16:58:18,925 p=30116 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 16:58:18,931 p=30116 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 16:58:18,931 p=30116 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 16:58:19,182 p=30116 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 16:58:19,186 p=30116 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 16:58:19,186 p=30116 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:49
2018-03-07 16:58:19,429 p=30116 u=root |  fatal: [default]: FAILED! => {"changed": false, "failed": true, "invocation": {"module_args": {"path": "/usr/share/nginx/html/backup", "sate": "directory"}, "module_name": "file"}, "msg": "unsupported parameter for module: sate"}
2018-03-07 16:58:19,430 p=30116 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 16:58:19,431 p=30116 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 16:58:19,431 p=30116 u=root |  PLAY RECAP *********************************************************************
2018-03-07 16:58:19,432 p=30116 u=root |  default                    : ok=5    changed=3    unreachable=0    failed=1   
2018-03-07 16:59:38,445 p=30322 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 16:59:38,558 p=30322 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 16:59:38,777 p=30322 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 16:59:38,777 p=30322 u=root |  1 plays in playbook.yml
2018-03-07 16:59:38,785 p=30322 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 16:59:38,815 p=30322 u=root |  TASK [setup] *******************************************************************
2018-03-07 16:59:43,152 p=30322 u=root |  ok: [default]
2018-03-07 16:59:43,160 p=30322 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 16:59:43,160 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 16:59:55,616 p=30322 u=root |  ok: [default] => {"cache_update_time": 1520459983, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 16:59:55,620 p=30322 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 16:59:55,620 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 16:59:59,527 p=30322 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (434 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (434 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 16:59:59,531 p=30322 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 16:59:59,531 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:41
2018-03-07 16:59:59,873 p=30322 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 16:59:59,878 p=30322 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 16:59:59,878 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 17:00:00,129 p=30322 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:00:00,136 p=30322 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 17:00:00,136 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:49
2018-03-07 17:00:00,411 p=30322 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:00:00,415 p=30322 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 17:00:00,416 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 17:00:00,810 p=30322 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/server.key", "-out", "/etc/nginx/ssl/server.crt", "-extensions", "v3_ca"], "delta": "0:00:00.066252", "end": "2018-03-07 22:00:00.798789", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/server.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:00:00.732537", "stderr": "Generating a 2048 bit RSA private key\n................................+++\n......+++\nwriting new private key to '/etc/nginx/ssl/server.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:00:00,813 p=30322 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 17:00:00,814 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:60
2018-03-07 17:00:01,052 p=30322 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003059", "end": "2018-03-07 22:00:01.038325", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:00:01.035266", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:00:01,058 p=30322 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 17:00:01,058 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:62
2018-03-07 17:00:01,302 p=30322 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.003075", "end": "2018-03-07 22:00:01.287603", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:00:01.284528", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:00:01,308 p=30322 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 17:00:01,308 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:66
2018-03-07 17:00:01,996 p=30322 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520460001.63-30761133533822/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520460001.63-30761133533822/source", "state": "file", "uid": 0}
2018-03-07 17:00:02,029 p=30322 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 17:00:02,029 p=30322 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:70
2018-03-07 17:00:02,556 p=30322 u=root |  fatal: [default]: FAILED! => {"changed": true, "exit_status": 1, "failed": true, "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520460002.08-215334411312204/source", "validate": "nginx -t -c %s"}}, "msg": "failed to validate", "stderr": "nginx: [emerg] \"proxy_pass\" directive is not allowed here in /home/vagrant/.ansible/tmp/ansible-tmp-1520460002.08-215334411312204/source:102\nnginx: configuration file /home/vagrant/.ansible/tmp/ansible-tmp-1520460002.08-215334411312204/source test failed\n", "stdout": "", "stdout_lines": []}
2018-03-07 17:00:02,557 p=30322 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 17:00:02,558 p=30322 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 17:00:02,559 p=30322 u=root |  PLAY RECAP *********************************************************************
2018-03-07 17:00:02,559 p=30322 u=root |  default                    : ok=10   changed=8    unreachable=0    failed=1   
2018-03-07 17:07:10,391 p=30703 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 17:07:10,620 p=30703 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 17:07:10,848 p=30703 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 17:07:10,848 p=30703 u=root |  1 plays in playbook.yml
2018-03-07 17:07:10,856 p=30703 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 17:07:10,891 p=30703 u=root |  TASK [setup] *******************************************************************
2018-03-07 17:07:13,461 p=30703 u=root |  ok: [default]
2018-03-07 17:07:13,471 p=30703 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 17:07:13,471 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 17:07:24,075 p=30703 u=root |  ok: [default] => {"cache_update_time": 1520460434, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 17:07:24,079 p=30703 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 17:07:24,079 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 17:07:27,975 p=30703 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (489 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (489 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 17:07:27,979 p=30703 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 17:07:27,979 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:41
2018-03-07 17:07:28,317 p=30703 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:07:28,322 p=30703 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 17:07:28,322 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 17:07:28,569 p=30703 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:07:28,573 p=30703 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 17:07:28,574 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:49
2018-03-07 17:07:28,807 p=30703 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:07:28,812 p=30703 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 17:07:28,812 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 17:07:29,317 p=30703 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.176805", "end": "2018-03-07 22:07:29.303759", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:07:29.126954", "stderr": "Generating a 2048 bit RSA private key\n.....................................+++\n........................................................................+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:07:29,321 p=30703 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 17:07:29,321 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:60
2018-03-07 17:07:29,561 p=30703 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003645", "end": "2018-03-07 22:07:29.544736", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:07:29.541091", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:07:29,565 p=30703 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 17:07:29,565 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:62
2018-03-07 17:07:29,813 p=30703 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.003393", "end": "2018-03-07 22:07:29.800090", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:07:29.796697", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:07:29,818 p=30703 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 17:07:29,818 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:66
2018-03-07 17:07:30,495 p=30703 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520460450.14-219386333516722/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520460450.14-219386333516722/source", "state": "file", "uid": 0}
2018-03-07 17:07:30,500 p=30703 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 17:07:30,500 p=30703 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:70
2018-03-07 17:07:30,996 p=30703 u=root |  fatal: [default]: FAILED! => {"changed": true, "exit_status": 1, "failed": true, "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520460450.55-251534496607761/source", "validate": "nginx -t -c %s"}}, "msg": "failed to validate", "stderr": "nginx: [emerg] BIO_new_file(\"/etc/ssl/sre.crt\") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/ssl/sre.crt','r') error:2006D080:BIO routines:BIO_new_file:no such file)\nnginx: configuration file /home/vagrant/.ansible/tmp/ansible-tmp-1520460450.55-251534496607761/source test failed\n", "stdout": "", "stdout_lines": []}
2018-03-07 17:07:30,997 p=30703 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 17:07:31,000 p=30703 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 17:07:31,001 p=30703 u=root |  PLAY RECAP *********************************************************************
2018-03-07 17:07:31,001 p=30703 u=root |  default                    : ok=10   changed=8    unreachable=0    failed=1   
2018-03-07 17:17:01,318 p=31815 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 17:17:01,433 p=31815 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 17:17:01,654 p=31815 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 17:17:01,655 p=31815 u=root |  1 plays in playbook.yml
2018-03-07 17:17:01,662 p=31815 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 17:17:01,695 p=31815 u=root |  TASK [setup] *******************************************************************
2018-03-07 17:17:05,299 p=31815 u=root |  ok: [default]
2018-03-07 17:17:05,307 p=31815 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 17:17:05,307 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 17:17:15,682 p=31815 u=root |  ok: [default] => {"cache_update_time": 1520461025, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 17:17:15,686 p=31815 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 17:17:15,686 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 17:17:19,780 p=31815 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (446 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (446 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 17:17:19,784 p=31815 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 17:17:19,784 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:41
2018-03-07 17:17:20,115 p=31815 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:17:20,120 p=31815 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 17:17:20,120 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 17:17:20,369 p=31815 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:17:20,373 p=31815 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 17:17:20,373 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:49
2018-03-07 17:17:20,632 p=31815 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:17:20,637 p=31815 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 17:17:20,637 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 17:17:21,018 p=31815 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.048358", "end": "2018-03-07 22:17:21.005074", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:17:20.956716", "stderr": "Generating a 2048 bit RSA private key\n....+++\n...............+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:17:21,022 p=31815 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 17:17:21,022 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:60
2018-03-07 17:17:21,264 p=31815 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003436", "end": "2018-03-07 22:17:21.248463", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:17:21.245027", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:17:21,268 p=31815 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 17:17:21,269 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:62
2018-03-07 17:17:21,524 p=31815 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.002881", "end": "2018-03-07 22:17:21.508246", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:17:21.505365", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:17:21,529 p=31815 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 17:17:21,529 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:66
2018-03-07 17:17:22,251 p=31815 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461041.85-222239845820274/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461041.85-222239845820274/source", "state": "file", "uid": 0}
2018-03-07 17:17:22,255 p=31815 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 17:17:22,256 p=31815 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:70
2018-03-07 17:17:22,771 p=31815 u=root |  fatal: [default]: FAILED! => {"changed": true, "exit_status": 1, "failed": true, "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461042.31-155379674563093/source", "validate": "nginx -t -c %s"}}, "msg": "failed to validate", "stderr": "nginx: [emerg] BIO_new_file(\"/etc/ssl/sre.crt\") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/ssl/sre.crt','r') error:2006D080:BIO routines:BIO_new_file:no such file)\nnginx: configuration file /home/vagrant/.ansible/tmp/ansible-tmp-1520461042.31-155379674563093/source test failed\n", "stdout": "", "stdout_lines": []}
2018-03-07 17:17:22,772 p=31815 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 17:17:22,780 p=31815 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 17:17:22,781 p=31815 u=root |  PLAY RECAP *********************************************************************
2018-03-07 17:17:22,781 p=31815 u=root |  default                    : ok=10   changed=8    unreachable=0    failed=1   
2018-03-07 17:19:38,322 p=32216 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 17:19:38,441 p=32216 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 17:19:38,689 p=32216 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 17:19:38,690 p=32216 u=root |  1 plays in playbook.yml
2018-03-07 17:19:38,697 p=32216 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 17:19:38,731 p=32216 u=root |  TASK [setup] *******************************************************************
2018-03-07 17:19:41,369 p=32216 u=root |  ok: [default]
2018-03-07 17:19:41,376 p=32216 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 17:19:41,376 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 17:19:53,838 p=32216 u=root |  ok: [default] => {"cache_update_time": 1520461182, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 17:19:53,842 p=32216 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 17:19:53,842 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 17:19:57,937 p=32216 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (437 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (437 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 17:19:57,941 p=32216 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 17:19:57,941 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:41
2018-03-07 17:19:58,257 p=32216 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:19:58,260 p=32216 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 17:19:58,260 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 17:19:58,494 p=32216 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:19:58,498 p=32216 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 17:19:58,498 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:49
2018-03-07 17:19:58,745 p=32216 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:19:58,748 p=32216 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 17:19:58,749 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 17:19:59,254 p=32216 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.183778", "end": "2018-03-07 22:19:59.242528", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:19:59.058750", "stderr": "Generating a 2048 bit RSA private key\n.................................................+++\n........................................................................+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:19:59,258 p=32216 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 17:19:59,258 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:60
2018-03-07 17:19:59,490 p=32216 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003182", "end": "2018-03-07 22:19:59.473405", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:19:59.470223", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:19:59,494 p=32216 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 17:19:59,494 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:62
2018-03-07 17:19:59,766 p=32216 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.003430", "end": "2018-03-07 22:19:59.751663", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:19:59.748233", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:19:59,772 p=32216 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 17:19:59,772 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:66
2018-03-07 17:20:00,462 p=32216 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461200.11-116014030715737/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461200.11-116014030715737/source", "state": "file", "uid": 0}
2018-03-07 17:20:00,467 p=32216 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 17:20:00,467 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:70
2018-03-07 17:20:00,984 p=32216 u=root |  changed: [default] => {"changed": true, "checksum": "dd0c18e0024828665fc63427084ebcd08bd71104", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461200.51-2144089029888/source", "validate": "nginx -t -c %s"}}, "md5sum": "d1bf421a0eaf7379acfd2a1b5c30da7e", "mode": "0644", "owner": "root", "size": 2807, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461200.51-2144089029888/source", "state": "file", "uid": 0}
2018-03-07 17:20:00,988 p=32216 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 17:20:00,988 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:77
2018-03-07 17:20:01,370 p=32216 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.152838", "end": "2018-03-07 22:20:01.354679", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:20:01.201841", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 17:20:01,375 p=32216 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 17:20:01,375 p=32216 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 17:20:01,670 p=32216 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 17:20:01,671 p=32216 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.074259", "end": "2018-03-07 22:20:01.649997", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:20:01.575738", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 17:20:01,673 p=32216 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 17:20:03,152 p=32216 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 17:20:03,154 p=32216 u=root |  PLAY RECAP *********************************************************************
2018-03-07 17:20:03,154 p=32216 u=root |  default                    : ok=14   changed=12   unreachable=0    failed=0   
2018-03-07 17:24:10,949 p=32528 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 17:24:11,064 p=32528 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 17:24:11,295 p=32528 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 17:24:11,295 p=32528 u=root |  1 plays in playbook.yml
2018-03-07 17:24:11,301 p=32528 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 17:24:11,331 p=32528 u=root |  TASK [setup] *******************************************************************
2018-03-07 17:24:14,293 p=32528 u=root |  ok: [default]
2018-03-07 17:24:14,300 p=32528 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 17:24:14,301 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:31
2018-03-07 17:24:24,756 p=32528 u=root |  ok: [default] => {"cache_update_time": 1520461454, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 17:24:24,760 p=32528 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 17:24:24,760 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:35
2018-03-07 17:24:28,588 p=32528 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (468 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (468 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 17:24:28,592 p=32528 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 17:24:28,592 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:41
2018-03-07 17:24:28,913 p=32528 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:24:28,917 p=32528 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 17:24:28,917 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 17:24:29,171 p=32528 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:24:29,176 p=32528 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 17:24:29,176 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:49
2018-03-07 17:24:29,420 p=32528 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 17:24:29,425 p=32528 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 17:24:29,425 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 17:24:29,813 p=32528 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.049153", "end": "2018-03-07 22:24:29.799279", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:24:29.750126", "stderr": "Generating a 2048 bit RSA private key\n.........+++\n.................+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:24:29,817 p=32528 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 17:24:29,817 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:60
2018-03-07 17:24:30,077 p=32528 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.006313", "end": "2018-03-07 22:24:30.063497", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:24:30.057184", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:24:30,081 p=32528 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 17:24:30,081 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:62
2018-03-07 17:24:30,324 p=32528 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.004163", "end": "2018-03-07 22:24:30.311667", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:24:30.307504", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 17:24:30,329 p=32528 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 17:24:30,329 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:66
2018-03-07 17:24:31,031 p=32528 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461470.67-248092916553616/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461470.67-248092916553616/source", "state": "file", "uid": 0}
2018-03-07 17:24:31,036 p=32528 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 17:24:31,036 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:70
2018-03-07 17:24:31,544 p=32528 u=root |  changed: [default] => {"changed": true, "checksum": "e586c3221d8ce5b5dc05b3b0365b99036143b7d4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461471.08-25704148480689/source", "validate": "nginx -t -c %s"}}, "md5sum": "f84ad223580a30c1fe4fe0fe1b356eba", "mode": "0644", "owner": "root", "size": 2809, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520461471.08-25704148480689/source", "state": "file", "uid": 0}
2018-03-07 17:24:31,548 p=32528 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 17:24:31,549 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:77
2018-03-07 17:24:31,897 p=32528 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.128894", "end": "2018-03-07 22:24:31.884676", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:24:31.755782", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 17:24:31,901 p=32528 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 17:24:31,902 p=32528 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 17:24:32,224 p=32528 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 17:24:32,225 p=32528 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.084775", "end": "2018-03-07 22:24:32.206294", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 22:24:32.121519", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 17:24:32,227 p=32528 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 17:24:33,710 p=32528 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 17:24:33,712 p=32528 u=root |  PLAY RECAP *********************************************************************
2018-03-07 17:24:33,713 p=32528 u=root |  default                    : ok=14   changed=12   unreachable=0    failed=0   
2018-03-07 18:17:12,604 p=35914 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:17:12,740 p=35914 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:17:12,966 p=35914 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:17:12,966 p=35914 u=root |  1 plays in playbook.yml
2018-03-07 18:17:12,973 p=35914 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:17:13,005 p=35914 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:17:16,205 p=35914 u=root |  ok: [default]
2018-03-07 18:17:16,211 p=35914 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:17:16,211 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:17:26,558 p=35914 u=root |  ok: [default] => {"cache_update_time": 1520464636, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:17:26,563 p=35914 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:17:26,563 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:17:30,517 p=35914 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (431 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (431 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 18:17:30,521 p=35914 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:17:30,522 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:17:30,892 p=35914 u=root |  NOTIFIED HANDLER TEST - Verify Nginx SSL Dir Creation
2018-03-07 18:17:30,894 p=35914 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:17:30,899 p=35914 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:17:30,899 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:17:31,175 p=35914 u=root |  NOTIFIED HANDLER TEST - Verify Nginx Backup Dir Creation
2018-03-07 18:17:31,176 p=35914 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:17:31,181 p=35914 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:17:31,181 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:17:31,442 p=35914 u=root |  NOTIFIED HANDLER TEST - Verify Document Backup Dir Creation
2018-03-07 18:17:31,444 p=35914 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:17:31,448 p=35914 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:17:31,448 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:17:31,855 p=35914 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.044630", "end": "2018-03-07 23:17:31.840813", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:17:31.796183", "stderr": "Generating a 2048 bit RSA private key\n.............+++\n...+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:17:31,859 p=35914 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:17:31,859 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:17:32,123 p=35914 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003201", "end": "2018-03-07 23:17:32.109744", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:17:32.106543", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:17:32,127 p=35914 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:17:32,127 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:17:32,389 p=35914 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.002922", "end": "2018-03-07 23:17:32.372529", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:17:32.369607", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:17:32,395 p=35914 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:17:32,395 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:17:33,117 p=35914 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520464652.74-216211435988948/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520464652.74-216211435988948/source", "state": "file", "uid": 0}
2018-03-07 18:17:33,124 p=35914 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:17:33,124 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:17:33,644 p=35914 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520464653.17-1464349272586/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520464653.17-1464349272586/source", "state": "file", "uid": 0}
2018-03-07 18:17:33,648 p=35914 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:17:33,648 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:17:34,030 p=35914 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.146801", "end": "2018-03-07 23:17:34.015067", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:17:33.868266", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 18:17:34,033 p=35914 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:17:34,033 p=35914 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:17:34,370 p=35914 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:17:34,370 p=35914 u=root |  NOTIFIED HANDLER Ensure we are able to access site through HTTPS
2018-03-07 18:17:34,371 p=35914 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.081809", "end": "2018-03-07 23:17:34.356725", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:17:34.274916", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:17:34,373 p=35914 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:17:35,852 p=35914 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:17:35,853 p=35914 u=root |  RUNNING HANDLER [TEST - Verify Nginx SSL Dir Creation] *************************
2018-03-07 18:17:36,197 p=35914 u=root |  fatal: [default]: FAILED! => {"changed": false, "failed": true, "invocation": {"module_args": {"msg": "ERROR - directory:\\ /etc/nginx/ssl was not created!", "path": "/etc/nginx/ssl", "state": "present"}, "module_name": "wait_for"}, "msg": "unsupported parameter for module: msg"}
2018-03-07 18:17:36,198 p=35914 u=root |  RUNNING HANDLER [TEST - Verify Nginx Backup Dir Creation] **********************
2018-03-07 18:17:36,199 p=35914 u=root |  RUNNING HANDLER [TEST - Verify Document Backup Dir Creation] *******************
2018-03-07 18:17:36,199 p=35914 u=root |  RUNNING HANDLER [Ensure we are able to access site through HTTPS] **************
2018-03-07 18:17:36,200 p=35914 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 18:17:36,202 p=35914 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 18:17:36,202 p=35914 u=root |  PLAY RECAP *********************************************************************
2018-03-07 18:17:36,202 p=35914 u=root |  default                    : ok=14   changed=12   unreachable=0    failed=1   
2018-03-07 18:20:06,329 p=36193 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:20:06,458 p=36193 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:20:06,700 p=36193 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:20:06,700 p=36193 u=root |  1 plays in playbook.yml
2018-03-07 18:20:06,707 p=36193 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:20:06,742 p=36193 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:20:11,202 p=36193 u=root |  ok: [default]
2018-03-07 18:20:11,208 p=36193 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:20:11,209 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:20:21,892 p=36193 u=root |  ok: [default] => {"cache_update_time": 1520464811, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:20:21,896 p=36193 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:20:21,896 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:20:25,803 p=36193 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (511 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (511 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 18:20:25,807 p=36193 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:20:25,807 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:20:26,139 p=36193 u=root |  NOTIFIED HANDLER TEST - Verify Nginx SSL Dir Creation
2018-03-07 18:20:26,141 p=36193 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:20:26,145 p=36193 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:20:26,145 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:20:26,401 p=36193 u=root |  NOTIFIED HANDLER TEST - Verify Nginx Backup Dir Creation
2018-03-07 18:20:26,403 p=36193 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:20:26,407 p=36193 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:20:26,407 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:20:26,677 p=36193 u=root |  NOTIFIED HANDLER TEST - Verify Document Backup Dir Creation
2018-03-07 18:20:26,679 p=36193 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:20:26,683 p=36193 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:20:26,683 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:20:27,320 p=36193 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.260009", "end": "2018-03-07 23:20:27.309864", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:20:27.049855", "stderr": "Generating a 2048 bit RSA private key\n........................................................................................................................................................................+++\n.....+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:20:27,323 p=36193 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:20:27,323 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:20:27,587 p=36193 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003708", "end": "2018-03-07 23:20:27.572442", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:20:27.568734", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:20:27,590 p=36193 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:20:27,591 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:20:27,869 p=36193 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.003301", "end": "2018-03-07 23:20:27.858867", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:20:27.855566", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:20:27,874 p=36193 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:20:27,875 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:20:28,590 p=36193 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520464828.2-65144386129541/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520464828.2-65144386129541/source", "state": "file", "uid": 0}
2018-03-07 18:20:28,602 p=36193 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:20:28,602 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:20:29,125 p=36193 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520464828.64-110818726412993/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520464828.64-110818726412993/source", "state": "file", "uid": 0}
2018-03-07 18:20:29,130 p=36193 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:20:29,130 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:20:29,511 p=36193 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.132500", "end": "2018-03-07 23:20:29.503592", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:20:29.371092", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 18:20:29,516 p=36193 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:20:29,516 p=36193 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:20:29,835 p=36193 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:20:29,836 p=36193 u=root |  NOTIFIED HANDLER Ensure we are able to access site through HTTPS
2018-03-07 18:20:29,837 p=36193 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.084416", "end": "2018-03-07 23:20:29.821482", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:20:29.737066", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:20:29,839 p=36193 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:20:31,320 p=36193 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:20:31,321 p=36193 u=root |  RUNNING HANDLER [TEST - Verify Nginx SSL Dir Creation] *************************
2018-03-07 18:20:31,645 p=36193 u=root |  fatal: [default]: FAILED! => {"changed": false, "failed": true, "invocation": {"module_args": {"msg": "ERROR - directory: /etc/nginx/ssl was not created!", "path": "/etc/nginx/ssl", "state": "present"}, "module_name": "wait_for"}, "msg": "unsupported parameter for module: msg"}
2018-03-07 18:20:31,646 p=36193 u=root |  RUNNING HANDLER [TEST - Verify Nginx Backup Dir Creation] **********************
2018-03-07 18:20:31,647 p=36193 u=root |  RUNNING HANDLER [TEST - Verify Document Backup Dir Creation] *******************
2018-03-07 18:20:31,647 p=36193 u=root |  RUNNING HANDLER [Ensure we are able to access site through HTTPS] **************
2018-03-07 18:20:31,648 p=36193 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 18:20:31,649 p=36193 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 18:20:31,650 p=36193 u=root |  PLAY RECAP *********************************************************************
2018-03-07 18:20:31,650 p=36193 u=root |  default                    : ok=14   changed=12   unreachable=0    failed=1   
2018-03-07 18:23:47,310 p=36494 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:23:47,439 p=36494 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:23:47,663 p=36494 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:23:47,663 p=36494 u=root |  1 plays in playbook.yml
2018-03-07 18:23:47,669 p=36494 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:23:47,700 p=36494 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:23:50,121 p=36494 u=root |  ok: [default]
2018-03-07 18:23:50,127 p=36494 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:23:50,128 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:24:04,113 p=36494 u=root |  ok: [default] => {"cache_update_time": 1520465030, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:24:04,117 p=36494 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:24:04,117 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:24:08,048 p=36494 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (377 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (377 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 18:24:08,052 p=36494 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:24:08,052 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:24:08,375 p=36494 u=root |  NOTIFIED HANDLER TEST - Verify Nginx SSL Dir Creation
2018-03-07 18:24:08,376 p=36494 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:24:08,381 p=36494 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:24:08,381 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:24:08,637 p=36494 u=root |  NOTIFIED HANDLER TEST - Verify Nginx Backup Dir Creation
2018-03-07 18:24:08,638 p=36494 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:24:08,642 p=36494 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:24:08,642 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:24:08,896 p=36494 u=root |  NOTIFIED HANDLER TEST - Verify Document Backup Dir Creation
2018-03-07 18:24:08,899 p=36494 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:24:08,904 p=36494 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:24:08,904 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:24:09,358 p=36494 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.123761", "end": "2018-03-07 23:24:09.347890", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:24:09.224129", "stderr": "Generating a 2048 bit RSA private key\n...........................................+++\n.........................................+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:24:09,362 p=36494 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:24:09,362 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:24:09,627 p=36494 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003072", "end": "2018-03-07 23:24:09.616214", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:24:09.613142", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:24:09,633 p=36494 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:24:09,634 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:24:09,892 p=36494 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.002653", "end": "2018-03-07 23:24:09.874182", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:24:09.871529", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:24:09,896 p=36494 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:24:09,897 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:24:10,644 p=36494 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465050.24-263413969578583/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465050.24-263413969578583/source", "state": "file", "uid": 0}
2018-03-07 18:24:10,649 p=36494 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:24:10,649 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:24:11,159 p=36494 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465050.7-2478922205359/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465050.7-2478922205359/source", "state": "file", "uid": 0}
2018-03-07 18:24:11,163 p=36494 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:24:11,163 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:24:11,538 p=36494 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.138708", "end": "2018-03-07 23:24:11.527836", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:24:11.389128", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 18:24:11,542 p=36494 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:24:11,542 p=36494 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:24:11,863 p=36494 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:24:11,864 p=36494 u=root |  NOTIFIED HANDLER Ensure we are able to access site through HTTPS
2018-03-07 18:24:11,865 p=36494 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.092385", "end": "2018-03-07 23:24:11.850289", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:24:11.757904", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:24:11,867 p=36494 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:24:13,356 p=36494 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:24:13,357 p=36494 u=root |  RUNNING HANDLER [TEST - Verify Nginx SSL Dir Creation] *************************
2018-03-07 18:24:13,701 p=36494 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/etc/nginx/ssl", "port": null, "search_regex": null, "state": "present", "timeout": 300}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:24:13,702 p=36494 u=root |  RUNNING HANDLER [TEST - Verify Nginx Backup Dir Creation] **********************
2018-03-07 18:24:13,945 p=36494 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/etc/nginx/backup", "port": null, "search_regex": null, "state": "present", "timeout": 300}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:24:13,946 p=36494 u=root |  RUNNING HANDLER [TEST - Verify Document Backup Dir Creation] *******************
2018-03-07 18:24:14,200 p=36494 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/usr/share/nginx/html/backup", "port": null, "search_regex": null, "state": "present", "timeout": 300}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:24:14,201 p=36494 u=root |  RUNNING HANDLER [Ensure we are able to access site through HTTPS] **************
2018-03-07 18:24:14,483 p=36494 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "192.168.50.4", "path": null, "port": 443, "search_regex": null, "state": "started", "timeout": 100}, "module_name": "wait_for"}, "path": null, "port": 443, "search_regex": null, "state": "started"}
2018-03-07 18:24:14,488 p=36494 u=root |  PLAY RECAP *********************************************************************
2018-03-07 18:24:14,488 p=36494 u=root |  default                    : ok=18   changed=12   unreachable=0    failed=0   
2018-03-07 18:25:18,730 p=36819 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:25:18,839 p=36819 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:25:19,064 p=36819 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:25:19,064 p=36819 u=root |  1 plays in playbook.yml
2018-03-07 18:25:19,071 p=36819 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:25:19,099 p=36819 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:25:22,264 p=36819 u=root |  ok: [default]
2018-03-07 18:25:22,271 p=36819 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:25:22,271 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:25:29,387 p=36819 u=root |  ok: [default] => {"cache_update_time": 1520465122, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:25:29,391 p=36819 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:25:29,391 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:25:29,929 p=36819 u=root |  ok: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:25:29,933 p=36819 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:25:29,933 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:25:30,267 p=36819 u=root |  ok: [default] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/ssl"}, "before": {"path": "/etc/nginx/ssl"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:25:30,272 p=36819 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:25:30,272 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:25:30,550 p=36819 u=root |  ok: [default] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/backup"}, "before": {"path": "/etc/nginx/backup"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:25:30,555 p=36819 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:25:30,555 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:25:30,810 p=36819 u=root |  ok: [default] => {"changed": false, "diff": {"after": {"path": "/usr/share/nginx/html/backup"}, "before": {"path": "/usr/share/nginx/html/backup"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:25:30,815 p=36819 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:25:30,815 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:25:31,141 p=36819 u=root |  ok: [default] => {"changed": false, "cmd": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "stderr": false, "stdout": "skipped, since /etc/nginx/ssl/sre.crt exists", "stdout_lines": ["skipped, since /etc/nginx/ssl/sre.crt exists"]}
2018-03-07 18:25:31,145 p=36819 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:25:31,145 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:25:31,401 p=36819 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.002654", "end": "2018-03-07 23:25:31.392045", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:25:31.389391", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:25:31,405 p=36819 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:25:31,406 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:25:31,682 p=36819 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.004217", "end": "2018-03-07 23:25:31.668495", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:25:31.664278", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:25:31,688 p=36819 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:25:31,688 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:25:32,393 p=36819 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465132.01-181098164619227/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465132.01-181098164619227/source", "state": "file", "uid": 0}
2018-03-07 18:25:32,398 p=36819 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:25:32,399 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:25:32,916 p=36819 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465132.45-183854795825043/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465132.45-183854795825043/source", "state": "file", "uid": 0}
2018-03-07 18:25:32,920 p=36819 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:25:32,920 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:25:33,280 p=36819 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.122256", "end": "2018-03-07 23:25:33.269622", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:25:33.147366", "stderr": "", "stdout": "Skipping adding existing rule\nSkipping adding existing rule (v6)", "stdout_lines": ["Skipping adding existing rule", "Skipping adding existing rule (v6)"], "warnings": []}
2018-03-07 18:25:33,284 p=36819 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:25:33,284 p=36819 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:25:33,595 p=36819 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:25:33,596 p=36819 u=root |  NOTIFIED HANDLER Ensure we are able to access site through HTTPS
2018-03-07 18:25:33,597 p=36819 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.078843", "end": "2018-03-07 23:25:33.584258", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:25:33.505415", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:25:33,599 p=36819 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:25:35,082 p=36819 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:25:35,083 p=36819 u=root |  RUNNING HANDLER [Ensure we are able to access site through HTTPS] **************
2018-03-07 18:25:35,418 p=36819 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "192.168.50.4", "path": null, "port": 443, "search_regex": null, "state": "started", "timeout": 100}, "module_name": "wait_for"}, "path": null, "port": 443, "search_regex": null, "state": "started"}
2018-03-07 18:25:35,424 p=36819 u=root |  PLAY RECAP *********************************************************************
2018-03-07 18:25:35,424 p=36819 u=root |  default                    : ok=15   changed=7    unreachable=0    failed=0   
2018-03-07 18:26:41,359 p=37017 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:26:41,483 p=37017 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:26:41,704 p=37017 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:26:41,704 p=37017 u=root |  1 plays in playbook.yml
2018-03-07 18:26:41,711 p=37017 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:26:41,742 p=37017 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:26:44,442 p=37017 u=root |  ok: [default]
2018-03-07 18:26:44,448 p=37017 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:26:44,448 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:26:57,864 p=37017 u=root |  ok: [default] => {"cache_update_time": 1520465205, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:26:57,868 p=37017 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:26:57,868 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:27:01,554 p=37017 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (476 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (476 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 18:27:01,558 p=37017 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:27:01,558 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:27:01,880 p=37017 u=root |  NOTIFIED HANDLER TEST - Verify Nginx SSL Dir Creation
2018-03-07 18:27:01,882 p=37017 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:27:01,886 p=37017 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:27:01,886 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:27:02,130 p=37017 u=root |  NOTIFIED HANDLER TEST - Verify Nginx Backup Dir Creation
2018-03-07 18:27:02,132 p=37017 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:27:02,136 p=37017 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:27:02,136 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:27:02,384 p=37017 u=root |  NOTIFIED HANDLER TEST - Verify Document Backup Dir Creation
2018-03-07 18:27:02,386 p=37017 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:27:02,390 p=37017 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:27:02,390 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:27:02,846 p=37017 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.130786", "end": "2018-03-07 23:27:02.834799", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:27:02.704013", "stderr": "Generating a 2048 bit RSA private key\n......................................................................................+++\n.+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:27:02,849 p=37017 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:27:02,850 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:27:03,094 p=37017 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.004370", "end": "2018-03-07 23:27:03.078583", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:27:03.074213", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:27:03,098 p=37017 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:27:03,098 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:27:03,339 p=37017 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.002677", "end": "2018-03-07 23:27:03.328016", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:27:03.325339", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:27:03,343 p=37017 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:27:03,344 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:27:04,061 p=37017 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465223.68-109061522049865/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465223.68-109061522049865/source", "state": "file", "uid": 0}
2018-03-07 18:27:04,065 p=37017 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:27:04,065 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:27:04,557 p=37017 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465224.1-169829886071730/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465224.1-169829886071730/source", "state": "file", "uid": 0}
2018-03-07 18:27:04,561 p=37017 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:27:04,561 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:27:04,946 p=37017 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.134510", "end": "2018-03-07 23:27:04.935889", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:27:04.801379", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 18:27:04,949 p=37017 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:27:04,950 p=37017 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:27:05,258 p=37017 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:27:05,259 p=37017 u=root |  NOTIFIED HANDLER Ensure we are able to access site through HTTPS
2018-03-07 18:27:05,260 p=37017 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.077863", "end": "2018-03-07 23:27:05.243392", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:27:05.165529", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:27:05,262 p=37017 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:27:06,709 p=37017 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:27:06,710 p=37017 u=root |  RUNNING HANDLER [TEST - Verify Nginx SSL Dir Creation] *************************
2018-03-07 18:27:07,039 p=37017 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/etc/nginx/ssl", "port": null, "search_regex": null, "state": "present", "timeout": 300}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:27:07,040 p=37017 u=root |  RUNNING HANDLER [TEST - Verify Nginx Backup Dir Creation] **********************
2018-03-07 18:27:07,288 p=37017 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/etc/nginx/backup", "port": null, "search_regex": null, "state": "present", "timeout": 300}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:27:07,290 p=37017 u=root |  RUNNING HANDLER [TEST - Verify Document Backup Dir Creation] *******************
2018-03-07 18:31:28,743 p=37017 u=root |   [ERROR]: User interrupted execution

2018-03-07 18:38:21,804 p=37799 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:38:21,944 p=37799 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:38:22,192 p=37799 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:38:22,192 p=37799 u=root |  1 plays in playbook.yml
2018-03-07 18:38:22,198 p=37799 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:38:22,232 p=37799 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:38:26,985 p=37799 u=root |  ok: [default]
2018-03-07 18:38:26,995 p=37799 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:38:26,995 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:38:47,122 p=37799 u=root |  ok: [default] => {"cache_update_time": 1520465907, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:38:47,127 p=37799 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:38:47,127 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:38:51,138 p=37799 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (493 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (493 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 18:38:51,146 p=37799 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:38:51,146 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:38:51,536 p=37799 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx SSL Dir Creation
2018-03-07 18:38:51,539 p=37799 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:38:51,543 p=37799 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:38:51,543 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:38:51,821 p=37799 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx Backup Dir Creation
2018-03-07 18:38:51,823 p=37799 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:38:51,828 p=37799 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:38:51,828 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:38:52,079 p=37799 u=root |  NOTIFIED HANDLER TEST ~ Verify Document Backup Dir Creation
2018-03-07 18:38:52,081 p=37799 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:38:52,084 p=37799 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:38:52,084 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:38:52,581 p=37799 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.144469", "end": "2018-03-07 23:38:52.564713", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:38:52.420244", "stderr": "Generating a 2048 bit RSA private key\n........+++\n.........................................................................+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:38:52,585 p=37799 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:38:52,585 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:38:52,837 p=37799 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003535", "end": "2018-03-07 23:38:52.822312", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:38:52.818777", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:38:52,841 p=37799 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:38:52,842 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:38:53,104 p=37799 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.002837", "end": "2018-03-07 23:38:53.088496", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:38:53.085659", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:38:53,110 p=37799 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:38:53,111 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:38:53,786 p=37799 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465933.42-65432752875223/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465933.42-65432752875223/source", "state": "file", "uid": 0}
2018-03-07 18:38:53,792 p=37799 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:38:53,792 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:38:54,365 p=37799 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465933.85-149564602656846/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520465933.85-149564602656846/source", "state": "file", "uid": 0}
2018-03-07 18:38:54,371 p=37799 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:38:54,371 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:38:54,757 p=37799 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.138064", "end": "2018-03-07 23:38:54.745204", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:38:54.607140", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 18:38:54,761 p=37799 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:38:54,761 p=37799 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:38:55,074 p=37799 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:38:55,075 p=37799 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 80 is closed
2018-03-07 18:38:55,076 p=37799 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 443 is open
2018-03-07 18:38:55,077 p=37799 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.079422", "end": "2018-03-07 23:38:55.059542", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:38:54.980120", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:38:55,078 p=37799 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:38:56,592 p=37799 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:38:56,594 p=37799 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx SSL Dir Creation] *************************
2018-03-07 18:38:57,006 p=37799 u=root |  fatal: [default]: FAILED! => {"changed": false, "failed": true, "invocation": {"module_args": {"msg": "TEST FAILED ~ directory /etc/nginx/ssl was not created!", "path": "/etc/nginx/ssl", "state": "present", "timeout": 1}, "module_name": "wait_for"}, "msg": "unsupported parameter for module: msg"}
2018-03-07 18:38:57,008 p=37799 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx Backup Dir Creation] **********************
2018-03-07 18:38:57,009 p=37799 u=root |  RUNNING HANDLER [TEST ~ Verify Document Backup Dir Creation] *******************
2018-03-07 18:38:57,009 p=37799 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 80 is closed] ******************************
2018-03-07 18:38:57,011 p=37799 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 443 is open] *******************************
2018-03-07 18:38:57,011 p=37799 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 18:38:57,015 p=37799 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 18:38:57,015 p=37799 u=root |  PLAY RECAP *********************************************************************
2018-03-07 18:38:57,015 p=37799 u=root |  default                    : ok=14   changed=12   unreachable=0    failed=1   
2018-03-07 18:44:18,489 p=38221 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:44:18,630 p=38221 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:44:18,884 p=38221 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:44:18,884 p=38221 u=root |  1 plays in playbook.yml
2018-03-07 18:44:18,892 p=38221 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:44:18,924 p=38221 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:44:22,648 p=38221 u=root |  ok: [default]
2018-03-07 18:44:22,654 p=38221 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:44:22,654 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:44:42,594 p=38221 u=root |  ok: [default] => {"cache_update_time": 1520466263, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:44:42,598 p=38221 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:44:42,598 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:44:46,449 p=38221 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (505 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (505 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 18:44:46,452 p=38221 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:44:46,453 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:44:46,789 p=38221 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx SSL Dir Creation
2018-03-07 18:44:46,791 p=38221 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:44:46,794 p=38221 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:44:46,794 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:44:47,052 p=38221 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx Backup Dir Creation
2018-03-07 18:44:47,053 p=38221 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:44:47,057 p=38221 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:44:47,057 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:44:47,329 p=38221 u=root |  NOTIFIED HANDLER TEST ~ Verify Document Backup Dir Creation
2018-03-07 18:44:47,331 p=38221 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:44:47,335 p=38221 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:44:47,335 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:44:47,737 p=38221 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.044129", "end": "2018-03-07 23:44:47.726106", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:44:47.681977", "stderr": "Generating a 2048 bit RSA private key\n....+++\n....................+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:44:47,740 p=38221 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:44:47,740 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:44:47,994 p=38221 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003076", "end": "2018-03-07 23:44:47.979164", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:44:47.976088", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:44:47,999 p=38221 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:44:47,999 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:44:48,263 p=38221 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.004779", "end": "2018-03-07 23:44:48.249091", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:44:48.244312", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:44:48,269 p=38221 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:44:48,269 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:44:49,018 p=38221 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466288.62-279021223202711/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466288.62-279021223202711/source", "state": "file", "uid": 0}
2018-03-07 18:44:49,023 p=38221 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:44:49,023 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:44:49,561 p=38221 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466289.07-94046145657683/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466289.07-94046145657683/source", "state": "file", "uid": 0}
2018-03-07 18:44:49,566 p=38221 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:44:49,566 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:44:49,934 p=38221 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.129684", "end": "2018-03-07 23:44:49.925294", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:44:49.795610", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 18:44:49,938 p=38221 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:44:49,938 p=38221 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:44:50,252 p=38221 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:44:50,253 p=38221 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 80 is closed
2018-03-07 18:44:50,254 p=38221 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 443 is open
2018-03-07 18:44:50,255 p=38221 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.086626", "end": "2018-03-07 23:44:50.239334", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:44:50.152708", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:44:50,256 p=38221 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:44:51,750 p=38221 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:44:51,752 p=38221 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx SSL Dir Creation] *************************
2018-03-07 18:44:52,130 p=38221 u=root |  fatal: [default]: FAILED! => {"changed": false, "failed": true, "invocation": {"module_args": {"msg": "TEST FAILED ~ directory /etc/nginx/ssl was not created!", "path": "/etc/nginx/ssl", "state": "present", "timeout": 1}, "module_name": "wait_for"}, "msg": "unsupported parameter for module: msg"}
2018-03-07 18:44:52,132 p=38221 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx Backup Dir Creation] **********************
2018-03-07 18:44:52,133 p=38221 u=root |  RUNNING HANDLER [TEST ~ Verify Document Backup Dir Creation] *******************
2018-03-07 18:44:52,134 p=38221 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 80 is closed] ******************************
2018-03-07 18:44:52,135 p=38221 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 443 is open] *******************************
2018-03-07 18:44:52,136 p=38221 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 18:44:52,139 p=38221 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 18:44:52,139 p=38221 u=root |  PLAY RECAP *********************************************************************
2018-03-07 18:44:52,139 p=38221 u=root |  default                    : ok=14   changed=12   unreachable=0    failed=1   
2018-03-07 18:46:52,112 p=38873 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:46:52,252 p=38873 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:46:52,479 p=38873 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:46:52,479 p=38873 u=root |  1 plays in playbook.yml
2018-03-07 18:46:52,486 p=38873 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:46:52,516 p=38873 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:46:55,299 p=38873 u=root |  ok: [default]
2018-03-07 18:46:55,305 p=38873 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:46:55,305 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:47:13,522 p=38873 u=root |  ok: [default] => {"cache_update_time": 1520466415, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:47:13,526 p=38873 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:47:13,526 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:47:17,801 p=38873 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (364 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (364 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 18:47:17,805 p=38873 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:47:17,805 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:47:18,143 p=38873 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx SSL Dir Creation
2018-03-07 18:47:18,144 p=38873 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:47:18,149 p=38873 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:47:18,149 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:47:18,415 p=38873 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx Backup Dir Creation
2018-03-07 18:47:18,417 p=38873 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:47:18,420 p=38873 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:47:18,420 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:47:18,680 p=38873 u=root |  NOTIFIED HANDLER TEST ~ Verify Document Backup Dir Creation
2018-03-07 18:47:18,681 p=38873 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:47:18,685 p=38873 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:47:18,686 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:47:19,071 p=38873 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.046405", "end": "2018-03-07 23:47:19.063922", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:47:19.017517", "stderr": "Generating a 2048 bit RSA private key\n...................+++\n.+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:47:19,074 p=38873 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:47:19,074 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:47:19,335 p=38873 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.004477", "end": "2018-03-07 23:47:19.324835", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:47:19.320358", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:47:19,339 p=38873 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:47:19,340 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:47:19,614 p=38873 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.002877", "end": "2018-03-07 23:47:19.605101", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:47:19.602224", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:47:19,619 p=38873 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:47:19,619 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:47:20,323 p=38873 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466439.97-152108113038791/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466439.97-152108113038791/source", "state": "file", "uid": 0}
2018-03-07 18:47:20,328 p=38873 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:47:20,328 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:47:20,875 p=38873 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466440.38-28942683626422/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466440.38-28942683626422/source", "state": "file", "uid": 0}
2018-03-07 18:47:20,881 p=38873 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:47:20,881 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:47:21,275 p=38873 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.149062", "end": "2018-03-07 23:47:21.267641", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:47:21.118579", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 18:47:21,279 p=38873 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:47:21,279 p=38873 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:47:21,609 p=38873 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:47:21,610 p=38873 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 80 is closed
2018-03-07 18:47:21,611 p=38873 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 443 is open
2018-03-07 18:47:21,612 p=38873 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.081306", "end": "2018-03-07 23:47:21.596337", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:47:21.515031", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:47:21,613 p=38873 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:47:23,131 p=38873 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:47:23,132 p=38873 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx SSL Dir Creation] *************************
2018-03-07 18:47:23,485 p=38873 u=root |  fatal: [default]: FAILED! => {"changed": false, "failed": true, "invocation": {"module_args": {"msg": "TEST FAILED ~ SSL directory was not created!", "path": "/etc/nginx/ssl", "state": "present", "timeout": 1}, "module_name": "wait_for"}, "msg": "unsupported parameter for module: msg"}
2018-03-07 18:47:23,487 p=38873 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx Backup Dir Creation] **********************
2018-03-07 18:47:23,488 p=38873 u=root |  RUNNING HANDLER [TEST ~ Verify Document Backup Dir Creation] *******************
2018-03-07 18:47:23,488 p=38873 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 80 is closed] ******************************
2018-03-07 18:47:23,489 p=38873 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 443 is open] *******************************
2018-03-07 18:47:23,490 p=38873 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 18:47:23,499 p=38873 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 18:47:23,500 p=38873 u=root |  PLAY RECAP *********************************************************************
2018-03-07 18:47:23,500 p=38873 u=root |  default                    : ok=14   changed=12   unreachable=0    failed=1   
2018-03-07 18:48:39,415 p=39141 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 18:48:39,544 p=39141 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 18:48:39,768 p=39141 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 18:48:39,768 p=39141 u=root |  1 plays in playbook.yml
2018-03-07 18:48:39,775 p=39141 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 18:48:39,806 p=39141 u=root |  TASK [setup] *******************************************************************
2018-03-07 18:48:42,433 p=39141 u=root |  ok: [default]
2018-03-07 18:48:42,440 p=39141 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 18:48:42,440 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 18:49:06,130 p=39141 u=root |  ok: [default] => {"cache_update_time": 1520466523, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 18:49:06,134 p=39141 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 18:49:06,134 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 18:49:09,938 p=39141 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 0s (510 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 0s (510 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 18:49:09,942 p=39141 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 18:49:09,942 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:26
2018-03-07 18:49:10,259 p=39141 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx SSL Dir Creation
2018-03-07 18:49:10,260 p=39141 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:49:10,264 p=39141 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 18:49:10,264 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:32
2018-03-07 18:49:10,512 p=39141 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx Backup Dir Creation
2018-03-07 18:49:10,514 p=39141 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:49:10,517 p=39141 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 18:49:10,517 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:38
2018-03-07 18:49:10,754 p=39141 u=root |  NOTIFIED HANDLER TEST ~ Verify Document Backup Dir Creation
2018-03-07 18:49:10,755 p=39141 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:49:10,758 p=39141 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 18:49:10,758 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:45
2018-03-07 18:49:11,143 p=39141 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.054848", "end": "2018-03-07 23:49:11.134654", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:49:11.079806", "stderr": "Generating a 2048 bit RSA private key\n.......................+++\n.....+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:49:11,147 p=39141 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 18:49:11,147 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:51
2018-03-07 18:49:11,382 p=39141 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.005717", "end": "2018-03-07 23:49:11.373697", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:49:11.367980", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:49:11,386 p=39141 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 18:49:11,386 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:55
2018-03-07 18:49:11,630 p=39141 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.002931", "end": "2018-03-07 23:49:11.621013", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:49:11.618082", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 18:49:11,636 p=39141 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 18:49:11,636 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:63
2018-03-07 18:49:12,315 p=39141 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466551.94-90074099951510/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466551.94-90074099951510/source", "state": "file", "uid": 0}
2018-03-07 18:49:12,320 p=39141 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 18:49:12,320 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:68
2018-03-07 18:49:12,811 p=39141 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466552.37-159011498396033/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520466552.37-159011498396033/source", "state": "file", "uid": 0}
2018-03-07 18:49:12,815 p=39141 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 18:49:12,816 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:79
2018-03-07 18:49:13,176 p=39141 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.130279", "end": "2018-03-07 23:49:13.168536", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:49:13.038257", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 18:49:13,179 p=39141 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 18:49:13,179 p=39141 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:82
2018-03-07 18:49:13,478 p=39141 u=root |  NOTIFIED HANDLER Restart Nginx
2018-03-07 18:49:13,479 p=39141 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 80 is closed
2018-03-07 18:49:13,480 p=39141 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 443 is open
2018-03-07 18:49:13,481 p=39141 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.078426", "end": "2018-03-07 23:49:13.467137", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-07 23:49:13.388711", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 18:49:13,482 p=39141 u=root |  RUNNING HANDLER [Restart Nginx] ************************************************
2018-03-07 18:49:14,944 p=39141 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 18:49:14,945 p=39141 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx SSL Dir Creation] *************************
2018-03-07 18:49:15,337 p=39141 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/etc/nginx/ssl", "port": null, "search_regex": null, "state": "present", "timeout": 1}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:49:15,338 p=39141 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx Backup Dir Creation] **********************
2018-03-07 18:49:15,617 p=39141 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/etc/nginx/backup", "port": null, "search_regex": null, "state": "present", "timeout": 1}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 18:49:15,619 p=39141 u=root |  RUNNING HANDLER [TEST ~ Verify Document Backup Dir Creation] *******************
2018-03-07 18:49:16,902 p=39141 u=root |  fatal: [default]: FAILED! => {"changed": false, "elapsed": 1, "failed": true, "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/usr/share/nginx/html/badckup", "port": null, "search_regex": null, "state": "present", "timeout": 1}, "module_name": "wait_for"}, "msg": "Timeout when waiting for file /usr/share/nginx/html/badckup"}
2018-03-07 18:49:16,904 p=39141 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 80 is closed] ******************************
2018-03-07 18:49:16,904 p=39141 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 443 is open] *******************************
2018-03-07 18:49:16,905 p=39141 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 18:49:16,907 p=39141 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 18:49:16,908 p=39141 u=root |  PLAY RECAP *********************************************************************
2018-03-07 18:49:16,908 p=39141 u=root |  default                    : ok=16   changed=12   unreachable=0    failed=1   
2018-03-07 19:01:12,324 p=39793 u=root |  Using /Users/jboyd215/dev/SRE_Challenge/sre-project/ansible.cfg as config file
2018-03-07 19:01:12,456 p=39793 u=root |  Loaded callback default of type stdout, v2.0
2018-03-07 19:01:12,666 p=39793 u=root |  PLAYBOOK: playbook.yml *********************************************************
2018-03-07 19:01:12,666 p=39793 u=root |  1 plays in playbook.yml
2018-03-07 19:01:12,672 p=39793 u=root |  PLAY [Setting up Nginx Webserver] **********************************************
2018-03-07 19:01:12,704 p=39793 u=root |  TASK [setup] *******************************************************************
2018-03-07 19:01:16,162 p=39793 u=root |  ok: [default]
2018-03-07 19:01:16,170 p=39793 u=root |  TASK [Run 'apt-get update'] ****************************************************
2018-03-07 19:01:16,170 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:10
2018-03-07 19:01:28,976 p=39793 u=root |  ok: [default] => {"cache_update_time": 1520467276, "cache_updated": true, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2018-03-07 19:01:28,980 p=39793 u=root |  TASK [Install Nginx] ***********************************************************
2018-03-07 19:01:28,980 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:16
2018-03-07 19:01:33,116 p=39793 u=root |  changed: [default] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "latest", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libxslt1.1 nginx-common nginx-core\nSuggested packages:\n  fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  libxslt1.1 nginx nginx-common nginx-core\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 495 kB of archives.\nAfter this operation, 1802 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]\nPreconfiguring packages ...\nFetched 495 kB in 1s (488 kB/s)\nSelecting previously unselected package libxslt1.1:amd64.\n(Reading database ... 63114 files and directories currently installed.)\nPreparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...\nUnpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSelecting previously unselected package nginx-common.\nPreparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx-common (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx-core.\nPreparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...\nUnpacking nginx-core (1.4.6-1ubuntu3.8) ...\nSelecting previously unselected package nginx.\nPreparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...\nUnpacking nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...\nSetting up nginx-common (1.4.6-1ubuntu3.8) ...\nProcessing triggers for ufw (0.34~rc-0ubuntu2) ...\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up nginx-core (1.4.6-1ubuntu3.8) ...\nSetting up nginx (1.4.6-1ubuntu3.8) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.14) ...\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following extra packages will be installed:", "  libxslt1.1 nginx-common nginx-core", "Suggested packages:", "  fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  libxslt1.1 nginx nginx-common nginx-core", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 495 kB of archives.", "After this operation, 1802 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libxslt1.1 amd64 1.1.28-2ubuntu0.1 [145 kB]", "Get:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-common all 1.4.6-1ubuntu3.8 [19.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx-core amd64 1.4.6-1ubuntu3.8 [325 kB]", "Get:4 http://archive.ubuntu.com/ubuntu/ trusty-updates/main nginx all 1.4.6-1ubuntu3.8 [5394 B]", "Preconfiguring packages ...", "Fetched 495 kB in 1s (488 kB/s)", "Selecting previously unselected package libxslt1.1:amd64.", "(Reading database ... 63114 files and directories currently installed.)", "Preparing to unpack .../libxslt1.1_1.1.28-2ubuntu0.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx-common (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.4.6-1ubuntu3.8_amd64.deb ...", "Unpacking nginx-core (1.4.6-1ubuntu3.8) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.4.6-1ubuntu3.8_all.deb ...", "Unpacking nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Processing triggers for man-db (2.6.7.1-1ubuntu1) ...", "Setting up libxslt1.1:amd64 (1.1.28-2ubuntu0.1) ...", "Setting up nginx-common (1.4.6-1ubuntu3.8) ...", "Processing triggers for ufw (0.34~rc-0ubuntu2) ...", "Processing triggers for ureadahead (0.100.0-16) ...", "Setting up nginx-core (1.4.6-1ubuntu3.8) ...", "Setting up nginx (1.4.6-1ubuntu3.8) ...", "Processing triggers for libc-bin (2.19-0ubuntu6.14) ..."]}
2018-03-07 19:01:33,120 p=39793 u=root |  TASK [Create Nginx Directory for TLS/SSL Cert & Key Files] *********************
2018-03-07 19:01:33,120 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:24
2018-03-07 19:01:33,466 p=39793 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx SSL Dir Creation
2018-03-07 19:01:33,468 p=39793 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/ssl", "state": "directory"}, "before": {"path": "/etc/nginx/ssl", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/ssl", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 19:01:33,472 p=39793 u=root |  TASK [Create Nginx Backup Directory] *******************************************
2018-03-07 19:01:33,472 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:30
2018-03-07 19:01:33,736 p=39793 u=root |  NOTIFIED HANDLER TEST ~ Verify Nginx Backup Dir Creation
2018-03-07 19:01:33,738 p=39793 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/etc/nginx/backup", "state": "directory"}, "before": {"path": "/etc/nginx/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 19:01:33,742 p=39793 u=root |  TASK [Create Document Backup Directory] ****************************************
2018-03-07 19:01:33,742 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:36
2018-03-07 19:01:34,024 p=39793 u=root |  NOTIFIED HANDLER TEST ~ Verify Document Backup Dir Creation
2018-03-07 19:01:34,026 p=39793 u=root |  changed: [default] => {"changed": true, "diff": {"after": {"path": "/usr/share/nginx/html/backup", "state": "directory"}, "before": {"path": "/usr/share/nginx/html/backup", "state": "absent"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/share/nginx/html/backup", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "size": 4096, "state": "directory", "uid": 0}
2018-03-07 19:01:34,031 p=39793 u=root |  TASK [Generate a Self Signed OpenSSL certificate] ******************************
2018-03-07 19:01:34,031 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:43
2018-03-07 19:01:34,503 p=39793 u=root |  changed: [default] => {"changed": true, "cmd": ["openssl", "req", "-new", "-nodes", "-x509", "-subj", "/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4", "-days", "3650", "-keyout", "/etc/nginx/ssl/sre.key", "-out", "/etc/nginx/ssl/sre.crt", "-extensions", "v3_ca"], "delta": "0:00:00.119047", "end": "2018-03-08 00:01:34.496980", "invocation": {"module_args": {"_raw_params": "openssl req -new -nodes -x509 -subj \"/C=US/ST=Pennsylvania/L=Philadelphia/O=IT/CN=192.168.50.4\" -days 3650 -keyout /etc/nginx/ssl/sre.key -out /etc/nginx/ssl/sre.crt -extensions v3_ca", "_uses_shell": false, "chdir": null, "creates": "/etc/nginx/ssl/sre.crt", "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-08 00:01:34.377933", "stderr": "Generating a 2048 bit RSA private key\n...........................................................................+++\n........+++\nwriting new private key to '/etc/nginx/ssl/sre.key'\n-----", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 19:01:34,506 p=39793 u=root |  TASK [Backup Original Nginx Conf] **********************************************
2018-03-07 19:01:34,506 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:49
2018-03-07 19:01:34,767 p=39793 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/etc/nginx/nginx.conf", "/etc/nginx/backup/nginx.conf"], "delta": "0:00:00.003799", "end": "2018-03-08 00:01:34.755498", "invocation": {"module_args": {"_raw_params": "mv /etc/nginx/nginx.conf /etc/nginx/backup/nginx.conf", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-08 00:01:34.751699", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 19:01:34,771 p=39793 u=root |  TASK [Backup Original index.html] **********************************************
2018-03-07 19:01:34,771 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:53
2018-03-07 19:01:35,031 p=39793 u=root |  changed: [default] => {"changed": true, "cmd": ["mv", "/usr/share/nginx/html/index.html", "/usr/share/nginx/html/backup/index.html"], "delta": "0:00:00.002879", "end": "2018-03-08 00:01:35.022719", "invocation": {"module_args": {"_raw_params": "mv /usr/share/nginx/html/index.html /usr/share/nginx/html/backup/index.html", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-08 00:01:35.019840", "stderr": "", "stdout": "", "stdout_lines": [], "warnings": []}
2018-03-07 19:01:35,036 p=39793 u=root |  TASK [Install Custom index.html] ***********************************************
2018-03-07 19:01:35,037 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:61
2018-03-07 19:01:35,717 p=39793 u=root |  changed: [default] => {"changed": true, "checksum": "d06c9674a91d9d789d5c82e3675683f02b57c348", "dest": "/usr/share/nginx/html/index.html", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/usr/share/nginx/html/index.html", "directory_mode": null, "follow": false, "force": true, "group": null, "mode": null, "original_basename": "index.html", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520467295.35-22336911048935/source", "validate": null}}, "md5sum": "8a67589a303cd4e2a1d706004412be4b", "mode": "0644", "owner": "root", "size": 5618, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520467295.35-22336911048935/source", "state": "file", "uid": 0}
2018-03-07 19:01:35,725 p=39793 u=root |  TASK [Install Custom (TLS/SSL modified) Nginx Config File] *********************
2018-03-07 19:01:35,725 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:66
2018-03-07 19:01:36,226 p=39793 u=root |  changed: [default] => {"changed": true, "checksum": "57218ac8f2e3bcad10e10303fcd9be34ea469ec4", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "invocation": {"module_args": {"backup": false, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "directory_mode": null, "follow": true, "force": true, "group": null, "mode": null, "original_basename": "nginx.conf", "owner": null, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520467295.77-153253326392462/source", "validate": "nginx -t -c %s"}}, "md5sum": "5f86a10c01002c1fd7b90d3b91bb1988", "mode": "0644", "owner": "root", "size": 2766, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1520467295.77-153253326392462/source", "state": "file", "uid": 0}
2018-03-07 19:01:36,230 p=39793 u=root |  TASK [Allow HTTPS Traffic] *****************************************************
2018-03-07 19:01:36,230 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:77
2018-03-07 19:01:36,631 p=39793 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "allow", "Nginx Full"], "delta": "0:00:00.152791", "end": "2018-03-08 00:01:36.618265", "invocation": {"module_args": {"_raw_params": "ufw allow 'Nginx Full'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-08 00:01:36.465474", "stderr": "", "stdout": "Rules updated\nRules updated (v6)", "stdout_lines": ["Rules updated", "Rules updated (v6)"], "warnings": []}
2018-03-07 19:01:36,635 p=39793 u=root |  TASK [Block HTTP Traffic] ******************************************************
2018-03-07 19:01:36,635 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:80
2018-03-07 19:01:36,962 p=39793 u=root |  changed: [default] => {"changed": true, "cmd": ["ufw", "delete", "allow", "Nginx HTTP"], "delta": "0:00:00.088800", "end": "2018-03-08 00:01:36.954132", "invocation": {"module_args": {"_raw_params": "ufw delete allow 'Nginx HTTP'", "_uses_shell": false, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "rc": 0, "start": "2018-03-08 00:01:36.865332", "stderr": "", "stdout": "Could not delete non-existent rule\nCould not delete non-existent rule (v6)", "stdout_lines": ["Could not delete non-existent rule", "Could not delete non-existent rule (v6)"], "warnings": []}
2018-03-07 19:01:36,966 p=39793 u=root |  TASK [Restart Nginx] ***********************************************************
2018-03-07 19:01:36,966 p=39793 u=root |  task path: /Users/jboyd215/dev/SRE_Challenge/sre-project/playbook.yml:87
2018-03-07 19:01:38,435 p=39793 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 80 is closed
2018-03-07 19:01:38,436 p=39793 u=root |  NOTIFIED HANDLER TEST ~ Ensure Port 443 is open
2018-03-07 19:01:38,437 p=39793 u=root |  changed: [default] => {"changed": true, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "restarted"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2018-03-07 19:01:38,438 p=39793 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx SSL Dir Creation] *************************
2018-03-07 19:01:38,803 p=39793 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/etc/nginx/ssl", "port": null, "search_regex": null, "state": "present", "timeout": 1}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/ssl", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 19:01:38,804 p=39793 u=root |  RUNNING HANDLER [TEST ~ Verify Nginx Backup Dir Creation] **********************
2018-03-07 19:01:39,082 p=39793 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/etc/nginx/backup", "port": null, "search_regex": null, "state": "present", "timeout": 1}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/backup", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 19:01:39,084 p=39793 u=root |  RUNNING HANDLER [TEST ~ Verify Document Backup Dir Creation] *******************
2018-03-07 19:01:39,361 p=39793 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "gid": 0, "group": "root", "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "127.0.0.1", "path": "/usr/share/nginx/html/backup", "port": null, "search_regex": null, "state": "present", "timeout": 1}, "module_name": "wait_for"}, "mode": "0755", "owner": "root", "path": "/usr/share/nginx/html/backup", "port": null, "search_regex": null, "size": 4096, "state": "directory", "uid": 0}
2018-03-07 19:01:39,362 p=39793 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 80 is closed] ******************************
2018-03-07 19:01:39,627 p=39793 u=root |  ok: [default] => {"changed": false, "elapsed": 0, "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "192.168.50.4", "path": null, "port": 802, "search_regex": null, "state": "stopped", "timeout": 1}, "module_name": "wait_for"}, "path": null, "port": 802, "search_regex": null, "state": "stopped"}
2018-03-07 19:01:39,628 p=39793 u=root |  RUNNING HANDLER [TEST ~ Ensure Port 443 is open] *******************************
2018-03-07 19:01:40,926 p=39793 u=root |  fatal: [default]: FAILED! => {"changed": false, "elapsed": 1, "failed": true, "invocation": {"module_args": {"connect_timeout": 5, "delay": 0, "exclude_hosts": null, "host": "192.168.50.4", "path": null, "port": 4432, "search_regex": null, "state": "started", "timeout": 1}, "module_name": "wait_for"}, "msg": "Timeout when waiting for 192.168.50.4:4432"}
2018-03-07 19:01:40,926 p=39793 u=root |  NO MORE HOSTS LEFT *************************************************************
2018-03-07 19:01:40,928 p=39793 u=root |  	to retry, use: --limit @playbook.retry

2018-03-07 19:01:40,928 p=39793 u=root |  PLAY RECAP *********************************************************************
2018-03-07 19:01:40,929 p=39793 u=root |  default                    : ok=18   changed=12   unreachable=0    failed=1   
